<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>Flttx&#39;s Blog</title>
        <link>https://flttx.github.io
        <description></description>
        <language></language>
        <pubdate>Mon, 03 Aug 2020 15:54:31 +0800</pubdate>
        <lastbuilddate>Mon, 03 Aug 2020 15:54:31 +0800</lastbuilddate>
        <category>react</category>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
        <category>H5 APP</category>
        <item>
            <guid ispermalink="true">https://flttx.github.io/2020/08/03/ReactçŸ¥è¯†ç‚¹/</guid>
            <title>ReactçŸ¥è¯†ç‚¹</title>
            <link>https://flttx.github.io/2020/08/03/ReactçŸ¥è¯†ç‚¹/
            <category>react</category>
            <pubdate>Mon, 03 Aug 2020 15:54:31 +0800</pubdate>
            <description><!--[CDATA[ &lt;h1 id=&#34;1-reactç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›16ç‰ˆæœ¬ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿäº†å“ªäº›å˜åŒ–&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#1-reactç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›16ç‰ˆæœ¬ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿäº†å“ªäº›å˜åŒ–&#34;&gt;#&lt;/a&gt; 1. React ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›ï¼Œ16 ç‰ˆæœ¬ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿäº†å“ªäº›å˜åŒ–ï¼Ÿ&lt;/h1&gt;
&lt;h2 id=&#34;15ç”Ÿå‘½å‘¨æœŸ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#15ç”Ÿå‘½å‘¨æœŸ&#34;&gt;#&lt;/a&gt; 15 ç”Ÿå‘½å‘¨æœŸ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åˆå§‹åŒ–é˜¶æ®µ
&lt;ul&gt;
&lt;li&gt;constructor æ„é€ å‡½æ•°&lt;/li&gt;
&lt;li&gt;getDefaultPropsprops é»˜è®¤å€¼&lt;/li&gt;
&lt;li&gt;getInitialStatestate é»˜è®¤å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æŒ‚è½½é˜¶æ®µ
&lt;ul&gt;
&lt;li&gt;componentWillMount ç»„ä»¶åˆå§‹åŒ–æ¸²æŸ“å‰è°ƒç”¨&lt;/li&gt;
&lt;li&gt;render ç»„ä»¶æ¸²æŸ“&lt;/li&gt;
&lt;li&gt;componentDidMount ç»„ä»¶æŒ‚è½½åˆ° DOM åè°ƒç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ›´æ–°é˜¶æ®µ
&lt;ul&gt;
&lt;li&gt;componentWillReceiveProps ç»„ä»¶å°†è¦æ¥æ”¶æ–° props å‰è°ƒç”¨&lt;/li&gt;
&lt;li&gt;shouldComponentUpdate ç»„ä»¶æ˜¯å¦éœ€è¦æ›´æ–°&lt;/li&gt;
&lt;li&gt;componentWillUpdate ç»„ä»¶æ›´æ–°å‰è°ƒç”¨&lt;/li&gt;
&lt;li&gt;render ç»„ä»¶æ¸²æŸ“&lt;/li&gt;
&lt;li&gt;componentDidUpdate ç»„ä»¶æ›´æ–°åè°ƒç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¸è½½é˜¶æ®µ
&lt;ul&gt;
&lt;li&gt;componentWillUnmount ç»„ä»¶å¸è½½å‰è°ƒç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;16ç”Ÿå‘½å‘¨æœŸ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#16ç”Ÿå‘½å‘¨æœŸ&#34;&gt;#&lt;/a&gt; 16 ç”Ÿå‘½å‘¨æœŸ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åˆå§‹åŒ–é˜¶æ®µ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;constructor æ„é€ å‡½æ•°&lt;/li&gt;
&lt;li&gt;getDefaultPropsprops é»˜è®¤å€¼&lt;/li&gt;
&lt;li&gt;getInitialStatestate é»˜è®¤å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‚è½½é˜¶æ®µ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;static getDerivedStateFromProps(props,state)&lt;/li&gt;
&lt;li&gt;render&lt;/li&gt;
&lt;li&gt;componentDidMount&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;getDerivedStateFromPropsï¼šç»„ä»¶æ¯æ¬¡è¢« rerender çš„æ—¶å€™ï¼ŒåŒ…æ‹¬åœ¨ç»„ä»¶æ„å»ºä¹‹å (è™šæ‹Ÿ dom ä¹‹åï¼Œå®é™… dom æŒ‚è½½ä¹‹å‰)ï¼Œæ¯æ¬¡è·å–æ–°çš„ props æˆ– state ä¹‹åï¼›æ¯æ¬¡æ¥æ”¶æ–°çš„ props ä¹‹åéƒ½ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ä½œä¸ºæ–°çš„ stateï¼Œè¿”å› null åˆ™è¯´æ˜ä¸éœ€è¦æ›´æ–° stateï¼›é…åˆ componentDidUpdateï¼Œå¯ä»¥è¦†ç›– componentWillReceiveProps çš„æ‰€æœ‰ç”¨æ³•ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ›´æ–°é˜¶æ®µ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;static getDerivedStateFromProps(props,state)&lt;/li&gt;
&lt;li&gt;shouldComponentUpdate&lt;/li&gt;
&lt;li&gt;render&lt;/li&gt;
&lt;li&gt;getSnapshotBeforeUpdate(prevProps,prevState)&lt;/li&gt;
&lt;li&gt;componentDidUpdate&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;getSnapshotBeforeUpdateï¼šè§¦å‘æ—¶é—´: update å‘ç”Ÿçš„æ—¶å€™ï¼Œåœ¨ render ä¹‹åï¼Œåœ¨ç»„ä»¶ dom æ¸²æŸ“ä¹‹å‰ï¼›è¿”å›ä¸€ä¸ªå€¼ï¼Œä½œä¸º componentDidUpdate çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼›é…åˆ componentDidUpdate, å¯ä»¥è¦†ç›– componentWillUpdate çš„æ‰€æœ‰ç”¨æ³•ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¸è½½é˜¶æ®µ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;componentWillUnmount&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é”™è¯¯å¤„ç†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;componentDidCatch&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;React16 æ–°çš„ç”Ÿå‘½å‘¨æœŸå¼ƒç”¨äº† componentWillMountã€componentWillReceivePorpsï¼ŒcomponentWillUpdate æ–°å¢äº† getDerivedStateFromPropsã€getSnapshotBeforeUpdate æ¥ä»£æ›¿å¼ƒç”¨çš„ä¸‰ä¸ªé’©å­å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;React16 å¹¶æ²¡æœ‰åˆ é™¤è¿™ä¸‰ä¸ªé’©å­å‡½æ•°ï¼Œä½†æ˜¯ä¸èƒ½å’Œæ–°å¢çš„é’©å­å‡½æ•°æ··ç”¨ï¼Œ React17 å°†ä¼šåˆ é™¤è¿™ä¸‰ä¸ªé’©å­å‡½æ•°ï¼Œæ–°å¢äº†å¯¹é”™è¯¯çš„å¤„ç†ï¼ˆ componentDidCatchï¼‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-setstateæ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#2-setstateæ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„&#34;&gt;#&lt;/a&gt; 2. setState æ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„ï¼Ÿ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç”Ÿå‘½å‘¨æœŸå’Œåˆæˆäº‹ä»¶ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ React çš„ç”Ÿå‘½å‘¨æœŸå’Œåˆæˆäº‹ä»¶ä¸­ï¼Œ React ä»ç„¶å¤„äºä»–çš„æ›´æ–°æœºåˆ¶ä¸­ï¼Œè¿™æ—¶æ— è®ºè°ƒç”¨å¤šå°‘æ¬¡ setStateï¼Œéƒ½ä¼šä¸ä¼šç«‹å³æ‰§è¡Œæ›´æ–°ï¼Œè€Œæ˜¯å°†è¦æ›´æ–°çš„ãƒ»å­˜å…¥ _pendingStateQueueï¼Œå°†è¦æ›´æ–°çš„ç»„ä»¶å­˜å…¥ dirtyComponentã€‚&lt;br&gt;
å½“ä¸Šä¸€æ¬¡æ›´æ–°æœºåˆ¶æ‰§è¡Œå®Œæ¯•ï¼Œä»¥ç”Ÿå‘½å‘¨æœŸä¸ºä¾‹ï¼Œæ‰€æœ‰ç»„ä»¶ï¼Œå³æœ€é¡¶å±‚ç»„ä»¶ didmount åä¼šå°†æ‰¹å¤„ç†æ ‡å¿—è®¾ç½®ä¸º falseã€‚è¿™æ—¶å°†å–å‡º dirtyComponent ä¸­çš„ç»„ä»¶ä»¥åŠ _pendingStateQueue ä¸­çš„ state è¿›è¡Œæ›´æ–°ã€‚è¿™æ ·å°±å¯ä»¥ç¡®ä¿ç»„ä»¶ä¸ä¼šè¢«é‡æ–°æ¸²æŸ“å¤šæ¬¡ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;componentDidMount() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;this.setState(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      index: this.state.index + 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;console.log(&amp;apos;state&amp;apos;, this.state.index);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¦‚ä¸Šé¢çš„ä»£ç ï¼Œå½“æˆ‘ä»¬åœ¨æ‰§è¡Œ setState åç«‹å³å»è·å– stateï¼Œè¿™æ—¶æ˜¯è·å–ä¸åˆ°æ›´æ–°åçš„ state çš„ï¼Œå› ä¸ºå¤„äº React çš„æ‰¹å¤„ç†æœºåˆ¶ä¸­ï¼Œ state è¢«æš‚å­˜èµ·æ¥ï¼Œå¾…æ‰¹å¤„ç†æœºåˆ¶å®Œæˆä¹‹åï¼Œç»Ÿä¸€è¿›è¡Œæ›´æ–°ã€‚&lt;br&gt;
æ‰€ä»¥ã€‚setState æœ¬èº«å¹¶ä¸æ˜¯å¼‚æ­¥çš„ï¼Œè€Œæ˜¯ React çš„æ‰¹å¤„ç†æœºåˆ¶ç»™äººä¸€ç§å¼‚æ­¥çš„å‡è±¡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¼‚æ­¥ä»£ç å’ŒåŸç”Ÿäº‹ä»¶ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;componentDidMount() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    setTimeout(() =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      console.log(&amp;apos;è°ƒç”¨setState&amp;apos;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        this.setState(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            index: this.state.index + 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        console.log(&amp;apos;state&amp;apos;, this.state.index);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;, 0);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚ä¸Šé¢çš„ä»£ç ï¼Œå½“æˆ‘ä»¬åœ¨å¼‚æ­¥ä»£ç ä¸­è°ƒç”¨ setState æ—¶ï¼Œæ ¹æ® JavaScript çš„å¼‚æ­¥æœºåˆ¶ï¼Œä¼šå°†å¼‚æ­¥ä»£ç å…ˆæš‚å­˜ï¼Œç­‰æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ååœ¨æ‰§è¡Œï¼Œè¿™æ—¶ React çš„æ‰¹å¤„ç†æœºåˆ¶å·²ç»èµ°å®Œï¼Œå¤„ç†æ ‡å¿—è®¾è¢«è®¾ç½®ä¸º falseï¼Œè¿™æ—¶å†è°ƒç”¨ setState å³å¯ç«‹å³æ‰§è¡Œæ›´æ–°ï¼Œæ‹¿åˆ°æ›´æ–°åçš„ç»“æœã€‚&lt;br&gt;
åœ¨åŸç”Ÿäº‹ä»¶ä¸­è°ƒç”¨ setState å¹¶ä¸ä¼šå‡ºå‘ React çš„æ‰¹å¤„ç†æœºåˆ¶ï¼Œæ‰€ä»¥ç«‹å³èƒ½æ‹¿åˆ°æœ€æ–°ç»“æœã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ€ä½³å®è·µ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;setState çš„ç¬¬äºŒä¸ªå‚æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šåœ¨ React çš„æ‰¹å¤„ç†æœºåˆ¶å®Œæˆä¹‹åè°ƒç”¨ï¼Œæ‰€ä»¥ä½ æƒ³åœ¨è°ƒç”¨ setState åç«‹å³è·å–æ›´æ–°åçš„å€¼ï¼Œè¯·åœ¨è¯¥å›è°ƒå‡½æ•°ä¸­è·å–ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;this.setState(&amp;#123; index: this.state.index + 1 &amp;#125;, () =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      console.log(this.state.index);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é“¾æ¥ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpnMk5EQXpNakU1TlE9PSZhbXA7bWlkPTIyNDc0ODM5ODkmYW1wO2lkeD0xJmFtcDtzbj1kNzhmODg5YzZlMWQ3ZDU3MDU4YzljMjMyYjFhNjIwZSZhbXA7Y2hrc209Y2U2ZWM2ZjlmOTE5NGZlZjY4MWM3OWVlODY5YmY1OGQ1NDEzMTMyYzczNDk2NzEwYjJlYjMyYzg1OWEyMjQ5YTg5NWMyY2U4YTdjZCZhbXA7c2NlbmU9MjEjd2VjaGF0X3JlZGlyZWN0&#34;&gt;ç”±å®é™…é—®é¢˜æ¢ç©¶ setState çš„æ‰§è¡Œæœºåˆ¶&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;3-ä¸ºä»€ä¹ˆæœ‰æ—¶è¿ç»­å¤šæ¬¡setstateåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#3-ä¸ºä»€ä¹ˆæœ‰æ—¶è¿ç»­å¤šæ¬¡setstateåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆ&#34;&gt;#&lt;/a&gt; 3. ä¸ºä»€ä¹ˆæœ‰æ—¶è¿ç»­å¤šæ¬¡ setState åªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆï¼Ÿ&lt;/h1&gt;
&lt;p&gt;ä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼Œä¸¤æ¬¡æ‰“å°å‡ºçš„ç»“æœæ˜¯ç›¸åŒçš„ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;componentDidMount() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    this.setState(&amp;#123; index: this.state.index + 1 &amp;#125;, () =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        console.log(this.state.index);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    this.setState(&amp;#123; index: this.state.index + 1 &amp;#125;, () =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        console.log(this.state.index);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åŸå› å°±æ˜¯ React ä¼šæ‰¹å¤„ç†æœºåˆ¶ä¸­å­˜å‚¨çš„å¤šä¸ª setState è¿›è¡Œåˆå¹¶ï¼Œæ¥çœ‹ä¸‹ React æºç ä¸­çš„ _assign å‡½æ•°ï¼Œç±»ä¼¼äº Object çš„ assignï¼š&lt;br&gt;
å¦‚æœä¼ å…¥çš„æ˜¯å¯¹è±¡ï¼Œå¾ˆæ˜æ˜¾ä¼šè¢«åˆå¹¶æˆä¸€æ¬¡ï¼Œæ‰€ä»¥ä¸Šé¢çš„ä»£ç ä¸¤æ¬¡æ‰“å°çš„ç»“æœæ˜¯ç›¸åŒçš„ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;Object.assign( &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  nextState,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;index: state.index+ 1&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;index: state.index+ 1&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ³¨æ„ï¼Œ assign å‡½æ•°ä¸­å¯¹å‡½æ•°åšäº†ç‰¹æ®Šå¤„ç†ï¼Œå¤„ç†ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•° preState æ˜¯å‰ä¸€æ¬¡åˆå¹¶åçš„ç»“æœï¼Œæ‰€ä»¥è®¡ç®—ç»“æœæ˜¯å‡†ç¡®çš„ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;componentDidMount() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    this.setState((state, props) =&amp;gt; (&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            index: state.index + 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;), () =&amp;gt; &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        console.log(this.state.index);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    this.setState((state, props) =&amp;gt; (&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            index: state.index + 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;), () =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        console.log(this.state.index);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ‰€ä»¥ä¸Šé¢çš„ä»£ç ä¸¤æ¬¡æ‰“å°çš„ç»“æœæ˜¯ä¸åŒçš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ€ä½³å®è·µ&lt;br&gt;
 React ä¼šå¯¹å¤šæ¬¡è¿ç»­çš„ setState è¿›è¡Œåˆå¹¶ï¼Œå¦‚æœä½ æƒ³ç«‹å³ä½¿ç”¨ä¸Šæ¬¡ setState åçš„ç»“æœè¿›è¡Œä¸‹ä¸€æ¬¡ setStateï¼Œå¯ä»¥è®© setState æ¥æ”¶ä¸€ä¸ªå‡½æ•°è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå‡½æ•°ç”¨ä¸Šä¸€ä¸ª state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°†æ­¤æ¬¡æ›´æ–°è¢«åº”ç”¨æ—¶çš„ props åšä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;4-è™šæ‹Ÿdomæ¯”æ™®é€šdomæ›´å¿«å—&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#4-è™šæ‹Ÿdomæ¯”æ™®é€šdomæ›´å¿«å—&#34;&gt;#&lt;/a&gt; 4. è™šæ‹Ÿ Dom æ¯”æ™®é€š Dom æ›´å¿«å—ï¼Ÿ&lt;/h1&gt;
&lt;p&gt;å¾ˆå¤šæ–‡ç« è¯´ VitrualDom å¯ä»¥æå‡æ€§èƒ½ï¼Œè¿™ä¸€è¯´æ³•å®é™…ä¸Šæ˜¯å¾ˆç‰‡é¢çš„ã€‚&lt;br&gt;
ç›´æ¥æ“ä½œ DOM æ˜¯éå¸¸è€—è´¹æ€§èƒ½çš„ï¼Œè¿™ä¸€ç‚¹æ¯‹åº¸ç½®ç–‘ã€‚ä½†æ˜¯ React ä½¿ç”¨ VitrualDom ä¹Ÿæ˜¯æ— æ³•é¿å…æ“ä½œ DOM çš„ã€‚&lt;br&gt;
å¦‚æœæ˜¯é¦–æ¬¡æ¸²æŸ“ï¼Œ VitrualDom ä¸å…·æœ‰ä»»ä½•ä¼˜åŠ¿ï¼Œç”šè‡³å®ƒè¦è¿›è¡Œæ›´å¤šçš„è®¡ç®—ï¼Œæ¶ˆè€—æ›´å¤šçš„å†…å­˜ã€‚&lt;br&gt;
VitrualDom çš„ä¼˜åŠ¿åœ¨äº React çš„ Diff ç®—æ³•å’Œæ‰¹å¤„ç†ç­–ç•¥ï¼Œ React åœ¨é¡µé¢æ›´æ–°ä¹‹å‰ï¼Œæå‰è®¡ç®—å¥½äº†å¦‚ä½•è¿›è¡Œæ›´æ–°å’Œæ¸²æŸ“ DOMã€‚å®é™…ä¸Šï¼Œè¿™ä¸ªè®¡ç®—è¿‡ç¨‹æˆ‘ä»¬åœ¨ç›´æ¥æ“ä½œ DOM æ—¶ï¼Œä¹Ÿæ˜¯å¯ä»¥è‡ªå·±åˆ¤æ–­å’Œå®ç°çš„ï¼Œä½†æ˜¯ä¸€å®šä¼šè€—è´¹éå¸¸å¤šçš„ç²¾åŠ›å’Œæ—¶é—´ï¼Œè€Œä¸”å¾€å¾€æˆ‘ä»¬è‡ªå·±åšçš„æ˜¯ä¸å¦‚ React å¥½çš„ã€‚æ‰€ä»¥ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ React å¸®åŠ©æˆ‘ä»¬ &amp;quot;æå‡äº†æ€§èƒ½&amp;quot;ã€‚&lt;br&gt;
æ‰€ä»¥ï¼Œæˆ‘æ›´å€¾å‘äºè¯´ï¼Œ VitrualDom å¸®åŠ©æˆ‘ä»¬æé«˜äº†å¼€å‘æ•ˆç‡ï¼Œåœ¨é‡å¤æ¸²æŸ“æ—¶å®ƒå¸®åŠ©æˆ‘ä»¬è®¡ç®—å¦‚ä½•æ›´é«˜æ•ˆçš„æ›´æ–°ï¼Œè€Œä¸æ˜¯å®ƒæ¯” DOM æ“ä½œæ›´å¿«ã€‚&lt;/p&gt;
&lt;h1 id=&#34;5-ä¸ºä»€ä¹ˆä»£ç ä¸­ä¸€å®šè¦å¼•å…¥react&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#5-ä¸ºä»€ä¹ˆä»£ç ä¸­ä¸€å®šè¦å¼•å…¥react&#34;&gt;#&lt;/a&gt; 5. ä¸ºä»€ä¹ˆä»£ç ä¸­ä¸€å®šè¦å¼•å…¥ Reactï¼Ÿ&lt;/h1&gt;
&lt;p&gt;JSX åªæ˜¯ä¸º React.createElement (component,props,â€¦children) æ–¹æ³•æä¾›çš„è¯­æ³•ç³–ã€‚&lt;br&gt;
æ‰€æœ‰çš„ JSX ä»£ç æœ€åéƒ½ä¼šè½¬æ¢æˆ React.createElement (â€¦)ï¼Œ Babel å¸®åŠ©æˆ‘ä»¬å®Œæˆäº†è¿™ä¸ªè½¬æ¢çš„è¿‡ç¨‹ã€‚&lt;br&gt;
æ‰€ä»¥ä½¿ç”¨äº† JSX çš„ä»£ç éƒ½å¿…é¡»å¼•å…¥ Reactã€‚&lt;/p&gt;
&lt;h1 id=&#34;6-ä¸ºä»€ä¹ˆreactç»„ä»¶é¦–å­—æ¯å¿…é¡»å¤§å†™&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#6-ä¸ºä»€ä¹ˆreactç»„ä»¶é¦–å­—æ¯å¿…é¡»å¤§å†™&#34;&gt;#&lt;/a&gt; 6. ä¸ºä»€ä¹ˆ React ç»„ä»¶é¦–å­—æ¯å¿…é¡»å¤§å†™ï¼Ÿ&lt;/h1&gt;
&lt;p&gt;babel åœ¨ç¼–è¯‘æ—¶ä¼šåˆ¤æ–­ JSX ä¸­ç»„ä»¶çš„é¦–å­—æ¯ï¼Œå½“é¦–å­—æ¯ä¸ºå°å†™æ—¶ï¼Œå…¶è¢«è®¤å®šä¸ºåŸç”Ÿ DOM æ ‡ç­¾ï¼Œ createElement çš„ç¬¬ä¸€ä¸ªå˜é‡è¢«ç¼–è¯‘ä¸ºå­—ç¬¦ä¸²ï¼›å½“é¦–å­—æ¯ä¸ºå¤§å†™æ—¶ï¼Œå…¶è¢«è®¤å®šä¸ºè‡ªå®šä¹‰ç»„ä»¶ï¼Œ createElement çš„ç¬¬ä¸€ä¸ªå˜é‡è¢«ç¼–è¯‘ä¸ºå¯¹è±¡ã€‚&lt;/p&gt;
&lt;h1 id=&#34;7-reactåœ¨æ¸²æŸ“çœŸå®domæ—¶åšäº†å“ªäº›æ€§èƒ½ä¼˜åŒ–&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#7-reactåœ¨æ¸²æŸ“çœŸå®domæ—¶åšäº†å“ªäº›æ€§èƒ½ä¼˜åŒ–&#34;&gt;#&lt;/a&gt; 7. React åœ¨æ¸²æŸ“çœŸå® Dom æ—¶åšäº†å“ªäº›æ€§èƒ½ä¼˜åŒ–ï¼Ÿ&lt;/h1&gt;
&lt;p&gt;åœ¨ IEï¼ˆ8-11ï¼‰å’Œ Edge æµè§ˆå™¨ä¸­ï¼Œä¸€ä¸ªä¸€ä¸ªæ’å…¥æ— å­å­™çš„èŠ‚ç‚¹ï¼Œæ•ˆç‡è¦è¿œé«˜äºæ’å…¥ä¸€æ•´ä¸ªåºåˆ—åŒ–å®Œæ•´çš„èŠ‚ç‚¹æ ‘ã€‚&lt;br&gt;
React é€šè¿‡ lazyTreeï¼Œåœ¨ IEï¼ˆ8-11ï¼‰å’Œ Edge ä¸­è¿›è¡Œå•ä¸ªèŠ‚ç‚¹ä¾æ¬¡æ¸²æŸ“èŠ‚ç‚¹ï¼Œè€Œåœ¨å…¶ä»–æµè§ˆå™¨ä¸­åˆ™é¦–å…ˆå°†æ•´ä¸ªå¤§çš„ DOM ç»“æ„æ„å»ºå¥½ï¼Œç„¶åå†æ•´ä½“æ’å…¥å®¹å™¨ã€‚&lt;br&gt;
å¹¶ä¸”ï¼Œåœ¨å•ç‹¬æ¸²æŸ“èŠ‚ç‚¹æ—¶ï¼Œ React è¿˜è€ƒè™‘äº† fragment ç­‰ç‰¹æ®ŠèŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹åˆ™ä¸ä¼šä¸€ä¸ªä¸€ä¸ªæ’å…¥æ¸²æŸ“ã€‚&lt;/p&gt;
&lt;h1 id=&#34;8-hookæœ‰å“ªäº›ä¼˜åŠ¿&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#8-hookæœ‰å“ªäº›ä¼˜åŠ¿&#34;&gt;#&lt;/a&gt; 8. Hook æœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;å‡å°‘çŠ¶æ€é€»è¾‘å¤ç”¨çš„é£é™©&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hook å’Œ Mixin åœ¨ç”¨æ³•ä¸Šæœ‰ä¸€å®šçš„ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†æ˜¯ Mixin å¼•å…¥çš„é€»è¾‘å’ŒçŠ¶æ€æ˜¯å¯ä»¥ç›¸äº’è¦†ç›–çš„ï¼Œè€Œå¤šä¸ª Hook ä¹‹é—´äº’ä¸å½±å“ï¼Œè¿™è®©æˆ‘ä»¬ä¸éœ€è¦åœ¨æŠŠä¸€éƒ¨åˆ†ç²¾åŠ›æ”¾åœ¨é˜²æ­¢é¿å…é€»è¾‘å¤ç”¨çš„å†²çªä¸Šã€‚åœ¨ä¸éµå®ˆçº¦å®šçš„æƒ…å†µä¸‹ä½¿ç”¨ HOC ä¹Ÿæœ‰å¯èƒ½å¸¦æ¥ä¸€å®šå†²çªï¼Œæ¯”å¦‚ props è¦†ç›–ç­‰ç­‰ï¼Œä½¿ç”¨ Hook åˆ™å¯ä»¥é¿å…è¿™äº›é—®é¢˜ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¿å…åœ°ç‹±å¼åµŒå¥—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¤§é‡ä½¿ç”¨ HOC çš„æƒ…å†µä¸‹è®©æˆ‘ä»¬çš„ä»£ç å˜å¾—åµŒå¥—å±‚çº§éå¸¸æ·±ï¼Œä½¿ç”¨ HOCï¼Œæˆ‘ä»¬å¯ä»¥å®ç°æ‰å¹³å¼çš„çŠ¶æ€é€»è¾‘å¤ç”¨ï¼Œè€Œé¿å…äº†å¤§é‡çš„ç»„ä»¶åµŒå¥—ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®©ç»„ä»¶æ›´å®¹æ˜“ç†è§£&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ä½¿ç”¨ class ç»„ä»¶æ„å»ºæˆ‘ä»¬çš„ç¨‹åºæ—¶ï¼Œä»–ä»¬å„è‡ªæ‹¥æœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œä¸šåŠ¡é€»è¾‘çš„å¤æ‚ä½¿è¿™äº›ç»„ä»¶å˜å¾—è¶Šæ¥è¶Šåºå¤§ï¼Œå„ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ä¼šè°ƒç”¨è¶Šæ¥è¶Šå¤šçš„é€»è¾‘ï¼Œè¶Šæ¥è¶Šéš¾ä»¥ç»´æŠ¤ã€‚ä½¿ç”¨ Hookï¼Œå¯ä»¥è®©ä½ æ›´å¤§é™åº¦çš„å°†å…¬ç”¨é€»è¾‘æŠ½ç¦»ï¼Œå°†ä¸€ä¸ªç»„ä»¶åˆ†å‰²æˆæ›´å°çš„å‡½æ•°ï¼Œè€Œä¸æ˜¯å¼ºåˆ¶åŸºäºç”Ÿå‘½å‘¨æœŸæ–¹æ³•è¿›è¡Œåˆ†å‰²ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨å‡½æ•°ä»£æ›¿ class&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç›¸æ¯”å‡½æ•°ï¼Œç¼–å†™ä¸€ä¸ª class å¯èƒ½éœ€è¦æŒæ¡æ›´å¤šçš„çŸ¥è¯†ï¼Œéœ€è¦æ³¨æ„çš„ç‚¹ä¹Ÿè¶Šå¤šï¼Œæ¯”å¦‚ this æŒ‡å‘ã€ç»‘å®šäº‹ä»¶ç­‰ç­‰ã€‚å¦å¤–ï¼Œè®¡ç®—æœºç†è§£ä¸€ä¸ª class æ¯”ç†è§£ä¸€ä¸ªå‡½æ•°æ›´å¿«ã€‚Hooks è®©ä½ å¯ä»¥åœ¨ classes ä¹‹å¤–ä½¿ç”¨æ›´å¤š React çš„æ–°ç‰¹æ€§ã€‚&lt;/p&gt;
 ]]--></description>
        </item>
        <item>
            <guid ispermalink="true">https://flttx.github.io/2020/08/03/4-0-æŠ€å·§/</guid>
            <title>Antv G2 4.0+æŠ€å·§</title>
            <link>https://flttx.github.io/2020/08/03/4-0-æŠ€å·§/
            <category>react</category>
            <pubdate>Mon, 03 Aug 2020 15:45:38 +0800</pubdate>
            <description><!--[CDATA[ &lt;p&gt;AntV æ˜¯èš‚èšé‡‘æœå…¨æ–°ä¸€ä»£æ•°æ®å¯è§†åŒ–è§£å†³æ–¹æ¡ˆï¼Œè‡´åŠ›äºæä¾›ä¸€å¥—ç®€å•æ–¹ä¾¿ã€ä¸“ä¸šå¯é ã€æ— é™å¯èƒ½çš„æ•°æ®å¯è§†åŒ–æœ€ä½³å®è·µã€‚ç½‘å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9hbnR2LnZpc2lvbi96aCVFMyU4MCU4Mg==&#34;&gt;https://antv.vision/zhã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;G2 ä¸€å¥—é¢å‘å¸¸è§„ç»Ÿè®¡å›¾è¡¨ï¼Œä»¥æ•°æ®é©±åŠ¨çš„é«˜äº¤äº’å¯è§†åŒ–å›¾å½¢è¯­æ³•ï¼Œå…·æœ‰é«˜åº¦çš„æ˜“ç”¨æ€§å’Œæ‰©å±•æ€§ã€‚ä½¿ç”¨ G2ï¼Œä½ å¯ä»¥æ— éœ€å…³æ³¨å›¾è¡¨å„ç§ç¹ççš„å®ç°ç»†èŠ‚ï¼Œä¸€æ¡è¯­å¥å³å¯ä½¿ç”¨ Canvas æˆ– SVG æ„å»ºå‡ºå„ç§å„æ ·çš„å¯äº¤äº’çš„ç»Ÿè®¡å›¾è¡¨ã€‚ç½‘å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9nMi5hbnR2LnZpc2lvbi96aCVFMyU4MCU4Mg==&#34;&gt;https://g2.antv.vision/zhã€‚&lt;/span&gt;&lt;/p&gt;
&lt;h1 id=&#34;1-è®¾ç½®å›¾ä¾‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#1-è®¾ç½®å›¾ä¾‹&#34;&gt;#&lt;/a&gt; 1. è®¾ç½®å›¾ä¾‹&lt;/h1&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;legend(&amp;#123; position: &amp;apos;top-left&amp;apos;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;       offsetX: 200,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;       itemName: &amp;#123;  //è®¾ç½®å›¾ä¾‹æ–‡æœ¬&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;         style: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;           fontSize: 14,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;           fill: &amp;apos;#5F717D&amp;apos;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;           x: 22,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;         &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;       &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;       marker: &amp;#123;  //è®¾ç½®å›¾ä¾‹æ ‡æ³¨æ ·å¼&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;         style: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;           r: 6,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;         &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;       &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å…·ä½“ style å±æ€§å‚è€ƒï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9nMi5hbnR2LnZpc2lvbi96aC9kb2NzL2FwaS9pbnRlcmZhY2VzL3NoYXBlbWFya2VyYXR0cnMlRTMlODAlODI=&#34;&gt;https://g2.antv.vision/zh/docs/api/interfaces/shapemarkerattrsã€‚&lt;/span&gt;&lt;/p&gt;
&lt;h1 id=&#34;2-è‡ªå®šä¹‰å›¾ä¾‹ç‚¹å‡»äº‹ä»¶éšè—å¯¹åº”å›¾å½¢&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#2-è‡ªå®šä¹‰å›¾ä¾‹ç‚¹å‡»äº‹ä»¶éšè—å¯¹åº”å›¾å½¢&#34;&gt;#&lt;/a&gt; 2. è‡ªå®šä¹‰å›¾ä¾‹ç‚¹å‡»äº‹ä»¶ï¼Œéšè—å¯¹åº”å›¾å½¢&lt;/h1&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;chartRef.current.on(&amp;apos;legend:click&amp;apos;, (ev: any) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    const &amp;#123; unchecked, value &amp;#125; = ev.target.cfg.delegateObject.item;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    const geoms = chartRef.current.geometries;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    for (let i = 0; i &amp;lt; geoms.length; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        const geom = geoms[i];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        if (geom.getYScale().field === value) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            if (!unchecked) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                geom.show();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#125; else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                geom.hide();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt; ]]--></description>
        </item>
        <item>
            <guid ispermalink="true">https://flttx.github.io/2019/08/15/æ‰‹æœºç«¯è°ƒç”¨ç™¾åº¦å›¾ç‰‡è¯†åˆ«API/</guid>
            <title>æ‰‹æœºç«¯è°ƒç”¨ç™¾åº¦å›¾ç‰‡è¯†åˆ«API</title>
            <link>https://flttx.github.io/2019/08/15/æ‰‹æœºç«¯è°ƒç”¨ç™¾åº¦å›¾ç‰‡è¯†åˆ«API/
            <category>H5 APP</category>
            <pubdate>Thu, 15 Aug 2019 10:09:02 +0800</pubdate>
            <description><!--[CDATA[ &lt;p&gt;å› ä¸ºä¸šåŠ¡éœ€æ±‚ï¼Œæœ‰è½¦ç‰Œè¯†åˆ«çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸Šç½‘æ‰¾äº†å›¾ç‰‡è¯†åˆ«çš„è§£å†³æ–¹æ¡ˆï¼Œå‘ç° BAT éƒ½æœ‰ï¼Œä½†æ˜¯ç™¾åº¦çš„å…è´¹æ¬¡æ•°æœ€å¤šï¼Œå¯¹ä¸šåŠ¡æ¥è¯´å°±ç›¸å½“äºå…¨å…è´¹äº†ï¼Œæ‰€ä»¥å°±é€‰æ‹©äº†ç™¾åº¦çš„ APIï¼ŒğŸ˜„ã€‚å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9haS5iYWlkdS5jb20vZG9jcyMvT0NSLUFQSS90b3AlRTMlODAlODI=&#34;&gt;https://ai.baidu.com/docs#/OCR-API/topã€‚&lt;/span&gt;&lt;/p&gt;
&lt;h1 id=&#34;1æ‹ç…§è·å–å›¾ç‰‡&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#1æ‹ç…§è·å–å›¾ç‰‡&#34;&gt;#&lt;/a&gt; 1. æ‹ç…§è·å–å›¾ç‰‡&lt;/h1&gt;
&lt;p&gt;é¡¹ç›®æ˜¯ H5 APPï¼Œæ‹ç…§ç”¨äº† H5 + çš„ apiã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;//æ‹ç…§&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;captureImage() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let _this = this;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    var cmr = plus.camera.getCamera();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    var res = cmr.supportedImageResolutions[0];  //æ‘„åƒå¤´æ”¯æŒçš„æ‹ç…§åˆ†è¾¨ç‡&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    var fmt = cmr.supportedImageFormats[0]; //æ‘„åƒå¤´æ”¯æŒçš„æ‹ç…§æ–‡ä»¶æ ¼å¼&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    cmr.captureImage((path)=&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            _this.convertUrl(path);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        function(error) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            console.log(&amp;quot;Capture image failed: &amp;quot; + error.message);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            resolution: res,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            format: fmt&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    );&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&#34;2å›¾ç‰‡è½¬base64&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#2å›¾ç‰‡è½¬base64&#34;&gt;#&lt;/a&gt; 2. å›¾ç‰‡è½¬ base64&lt;/h1&gt;
&lt;p&gt;æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œå›¾ç‰‡è¦è½¬æˆ base64 æ•°æ®ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;//è½¬æ¢å›¾ç‰‡è·¯å¾„å¹¶è°ƒç”¨æ–¹æ³•è¯†åˆ«&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;convertUrl(path)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let _this = this;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    //è½¬æ¢ä¸ºæœ¬åœ°æ–‡ä»¶è·¯å¾„&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    plus.io.resolveLocalFileSystemURL(path, function(entry) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        var localurl = entry.toLocalURL(); &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        var reader = new plus.io.FileReader();  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        reader.onloadend = function (e) &amp;#123;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                var imgData = e.target.result.replace(&amp;quot;data:image/jpeg;base64,&amp;quot;, &amp;quot;&amp;quot;).replace(&amp;quot;data:image/png;base64,&amp;quot;, &amp;quot;&amp;quot;);//base64å›¾ç‰‡  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                ocr.startOCR(imgData, res=&amp;gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                var number = res.words_result.number;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                if(number.length == 7)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    uni.showToast(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        title: &amp;quot;è¯†åˆ«æˆåŠŸ&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        icon: &amp;quot;none&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    var values = number.split(&amp;quot;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    _this.result = values;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        reader.readAsDataURL(localurl);  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&#34;3è·å–access-token&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#3è·å–access-token&#34;&gt;#&lt;/a&gt; 3. è·å– Access Token&lt;/h1&gt;
&lt;p&gt;å¥½äº†ï¼Œç°åœ¨å›¾ç‰‡æ•°æ®æœ‰äº†ï¼Œåœ¨è°ƒç™¾åº¦è½¦ç‰Œè¯†åˆ« API ä¹‹å‰è¿˜è¦å…ˆè·å– Access Token, è€Œè¦è·å– Access Tokenï¼Œåˆå¾—å…ˆç™»è®°ä¸€ä¸ªåº”ç”¨ï¼Œå–åˆ°åº”ç”¨çš„ API KEY å’Œ SECRET KEYã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;//è·å–access_token&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;function requestAccessToken(callback) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	let params = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		grant_type: &amp;apos;client_credentials&amp;apos;,  //å›ºå®šå€¼&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		client_id: api_key,  //ç™»è®°åº”ç”¨çš„API KEY&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		client_secret: secret_key //ç™»è®°åº”ç”¨çš„SECRET KEY&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    //networkæ˜¯å°è£…çš„ajaxè¯·æ±‚å‡½æ•°&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	network.request(&amp;apos;https://aip.baidubce.com/oauth/2.0/token&amp;apos;, params, null, &amp;quot;GET&amp;quot;, res =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		if (res.hasOwnProperty(&amp;apos;access_token&amp;apos;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;			let nowTime = new Date().getTime();  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            //è®°å½•å½“å‰è¯·æ±‚æ—¶é—´æ˜¯ä¸ºäº†åˆ¤æ–­access_tokenæ˜¯å¦è¿‡æœŸ&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;			let access_token_obj = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;				access_token: res.access_token,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;				requestTime: nowTime  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;			&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;			uni.setStorageSync(&amp;quot;access_token_obj&amp;quot;, access_token_obj)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;			callback(res.access_token);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		&amp;#125; else &amp;#123; //è·å–access_tokenå¤±è´¥&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;			console.log(JSON.stringify(res));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&#34;4è°ƒç”¨è½¦ç‰Œè¯†åˆ«api&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#4è°ƒç”¨è½¦ç‰Œè¯†åˆ«api&#34;&gt;#&lt;/a&gt; 4. è°ƒç”¨è½¦ç‰Œè¯†åˆ« API&lt;/h1&gt;
&lt;p&gt;å…ˆåˆ¤æ–­ä¹‹å‰æ˜¯å¦è¯·æ±‚è¿‡ access_tokenï¼Œå¦‚æœè¯·æ±‚è¿‡å†åˆ¤æ–­ access_token æ˜¯å¦è¿‡æœŸã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; * å¼€å§‹è¿›è¡Œæ–‡å­—è¯†åˆ«ï¼Œä¼ å…¥base64å›¾ç‰‡æ•°æ®å’Œå›è°ƒå‡½æ•°&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;function startOCR(imgData, callback) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	console.log(&amp;quot;å¼€å§‹è¯†åˆ«...&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	console.log(&amp;quot;access_tokenç¼“å­˜ï¼Ÿ&amp;quot; + uni.getStorageSync(&amp;quot;access_token_obj&amp;quot;));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	if (uni.getStorageSync(&amp;quot;access_token_obj&amp;quot;)) &amp;#123; //å¦‚æœaccess_tokenå·²å­˜å…¥ç¼“å­˜ï¼Œè¡¨ç¤ºè¯·æ±‚è¿‡&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		let obj = uni.getStorageSync(&amp;quot;access_token_obj&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		let nowTime = new Date().getTime();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		if ((nowTime - obj.requestTime) &amp;gt;= 1000 * 3600 * 24 * 30) &amp;#123; //å¦‚æœä¸Šæ¬¡è¯·æ±‚æ—¶é—´åœ¨30å¤©ä¹‹å‰ï¼Œåˆ™éœ€è¦é‡æ–°è·å–access_token&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;			requestAccessToken(res =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;				recognition(res, imgData, callback);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;			&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		&amp;#125; else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;			recognition(obj.access_token, imgData, callback);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&amp;#125; else &amp;#123; //ç¼“å­˜ä¸­æ²¡æœ‰access_token&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		requestAccessToken(res =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;			recognition(res, imgData, callback);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;//è¯†åˆ«ä¸­...è°ƒç”¨æ–‡å­—è¯†åˆ«API,ä¼ å…¥å›¾ç‰‡æ•°æ®å‚æ•°&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;function recognition(access_token, imgData, callback) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	let params = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		access_token: access_token,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		image: imgData&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	let header = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		&amp;apos;Content-Type&amp;apos;: &amp;apos;application/x-www-form-urlencoded&amp;apos;  //è¯·æ±‚å¤´è®¾ç½®æˆå›ºå®šå€¼&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	network.request(&amp;apos;https://aip.baidubce.com/rest/2.0/ocr/v1/license_plate&amp;apos;, params, header, &amp;quot;POST&amp;quot;, res =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		callback(res);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&amp;#125;, err =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		uni.showToast(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;			title: &amp;quot;è¯·å¯¹å‡†è½¦ç‰Œé‡æ–°æ‹ç…§&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;			icon: &amp;quot;none&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&amp;#125;, &amp;quot;è¯†åˆ«ä¸­...&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åªè¦å‚æ•°éƒ½æ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±èƒ½å¾—åˆ°è¿”å›ç»“æœï¼Œè¿”å›è½¦ç‰Œä¿¡æ¯ï¼ˆè½¦ç‰Œå·ã€è½¦ç‰Œé¢œè‰²ç­‰ç­‰ï¼‰ã€‚&lt;br&gt;
è°ƒç”¨å…¶ä»–åœºæ™¯çš„å›¾ç‰‡è¯†åˆ« API åŒç†ã€‚&lt;/p&gt;
 ]]--></description>
        </item>
        <item>
            <guid ispermalink="true">https://flttx.github.io/2019/07/16/å¾®ä¿¡å°ç¨‹åºçœå¸‚åŒºä¸‰çº§è”åŠ¨ä¼˜åŒ–ç‰ˆ/</guid>
            <title>å¾®ä¿¡å°ç¨‹åºçœå¸‚åŒºä¸‰çº§è”åŠ¨ä¼˜åŒ–ç‰ˆ</title>
            <link>https://flttx.github.io/2019/07/16/å¾®ä¿¡å°ç¨‹åºçœå¸‚åŒºä¸‰çº§è”åŠ¨ä¼˜åŒ–ç‰ˆ/
            <category>å¾®ä¿¡å°ç¨‹åº</category>
            <pubdate>Tue, 16 Jul 2019 14:22:24 +0800</pubdate>
            <description><!--[CDATA[ &lt;p&gt;ä¼˜åŒ–ç‰ˆçš„çœå¸‚åŒºé€‰æ‹©å™¨ï¼Œæ›´ç®€åŒ–çš„ Js æ•°æ®ï¼Œæ–¹ä¾¿è¾“å‡ºä»¥åŠè¯»å–æ˜¾ç¤ºã€‚js åœ°å€ï¼š&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9oZXhvLW9jZWFuLm9zcy1jbi1zaGFuZ2hhaS5hbGl5dW5jcy5jb20vcG9zdC9qcy9jaXR5RGF0YS5qcw==&#34;&gt;åŸå¸‚æ•°æ® js&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é¡µé¢ç»„ä»¶ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;picker mode=&amp;quot;multiSelector&amp;quot; bindchange=&amp;quot;bindMultiPickerChange&amp;quot; bindcolumnchange=&amp;quot;bindMultiPickerColumnChange&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;value=&amp;quot;&amp;#123;&amp;#123;citiesIndex&amp;#125;&amp;#125;&amp;quot; range=&amp;quot;&amp;#123;&amp;#123;cityArray&amp;#125;&amp;#125;&amp;quot; range-key=&amp;quot;name&amp;quot;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;lt;/picker&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;js ä¼˜åŒ–åæ— éœ€æ”¾æœåŠ¡å™¨è¯·æ±‚ï¼Œæ”¾æœ¬åœ°å³å¯ã€‚&lt;/p&gt;
&lt;h1 id=&#34;1åŠ è½½åŸå¸‚æ•°æ®&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#1åŠ è½½åŸå¸‚æ•°æ®&#34;&gt;#&lt;/a&gt; 1. åŠ è½½åŸå¸‚æ•°æ®&lt;/h1&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;var array = require(&amp;apos;../../../utils/cityData.js&amp;apos;).cityData;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&#34;2é€‰æ‹©å™¨æ•°æ®åˆå§‹åŒ–&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#2é€‰æ‹©å™¨æ•°æ®åˆå§‹åŒ–&#34;&gt;#&lt;/a&gt; 2. é€‰æ‹©å™¨æ•°æ®åˆå§‹åŒ–&lt;/h1&gt;
&lt;p&gt;åˆå§‹åŒ–é€‰æ‹©å™¨æ•°æ®ï¼Œé»˜è®¤éƒ½é€‰ä¸­ç¬¬ä¸€é¡¹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;let cityArray = [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    [],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    [],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    []&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;for (let x in array[&amp;quot;86&amp;quot;]) &amp;#123; //å­˜å…¥çœ&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    cityArray[0].push(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    name: array[&amp;quot;86&amp;quot;][x],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    code: x&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;for (let y in array[cityArray[0][0].code]) &amp;#123; //å­˜å…¥å¸‚ï¼Œé»˜è®¤å…³è”ç¬¬ä¸€ä¸ªçœ&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    cityArray[1].push(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        name: array[cityArray[0][0].code][y],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        code: y&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;for (let z in array[cityArray[1][0].code]) &amp;#123; //å­˜å…¥åŒºï¼Œé»˜è®¤å…³è”ç¬¬ä¸€ä¸ªçœçš„ç¬¬ä¸€ä¸ªå¸‚&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    cityArray[2].push(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        name: array[cityArray[1][0].code][z],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        code: z&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;this.setData(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    cityArray: cityArray&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&#34;3åˆ—æ»šåŠ¨äº‹ä»¶&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#3åˆ—æ»šåŠ¨äº‹ä»¶&#34;&gt;#&lt;/a&gt; 3. åˆ—æ»šåŠ¨äº‹ä»¶&lt;/h1&gt;
&lt;p&gt;æ»šåŠ¨é€‰æ‹©å™¨çš„åˆ—æ—¶ç›¸åº”çš„æ•°æ®å˜åŒ–ï¼Œè¿™æ˜¯æœ€é‡è¦çš„ç‚¹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;//åˆ—æ»šåŠ¨äº‹ä»¶&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  bindMultiPickerColumnChange(e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let selectedIndex = e.detail.value;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let cityArray = this.data.cityArray;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let list1 = []; //å­˜æ”¾ç¬¬äºŒåˆ—æ•°æ®ï¼Œå³å¸‚çš„åˆ—&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let list2 = []; //å­˜æ”¾ç¬¬ä¸‰åˆ—æ•°æ®ï¼Œå³åŒºçš„åˆ—&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let citiesIndex = [];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let pcode = &amp;apos;&amp;apos;, scode = &amp;apos;&amp;apos;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let provinceIndex = this.data.citiesIndex[0]; //é€‰ä¸­çš„çœç´¢å¼•&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let cityIndex = this.data.citiesIndex[1]; //é€‰ä¸­çš„å¸‚ç´¢å¼• &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let areaIndex = this.data.citiesIndex[2]; //é€‰ä¸­çš„åŒºç´¢å¼•&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    switch (e.detail.column) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      case 0: //æ»šåŠ¨ç¬¬ä¸€åˆ—&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        pcode = cityArray[0][selectedIndex].code;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        for(let x in array[pcode])&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          list1.push(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            name: array[pcode][x],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            code: x&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        scode = list1[0].code;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        for(let y in array[scode])&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          list2.push(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            name: array[scode][y],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            code: y&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        citiesIndex = [selectedIndex, 0, 0, 0];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        break;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      case 1: //æ»šåŠ¨ç¬¬äºŒåˆ—&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        list1 = cityArray[1];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        scode = list1[selectedIndex].code;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        for(let x in array[scode])&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          list2.push(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            name: array[scode][x],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            code: x&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        citiesIndex = [provinceIndex, selectedIndex, 0, 0];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        break;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      case 2: //æ»šåŠ¨ç¬¬ä¸‰åˆ—&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        list1 = cityArray[1];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        list2 = cityArray[2];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        citiesIndex = [provinceIndex, cityIndex, selectedIndex, 0];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        break;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    this.setData(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      [`cityArray[1]`]: list1, //é‡æ–°èµ‹å€¼ç¬¬äºŒåˆ—æ•°ç»„ï¼Œå³è”åŠ¨äº†å¸‚&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      [`cityArray[2]`]: list2, //é‡æ–°èµ‹å€¼ç¬¬ä¸‰åˆ—æ•°ç»„ï¼Œå³è”åŠ¨äº†åŒº&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      citiesIndex: citiesIndex, //æ›´æ–°ç´¢å¼•&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&#34;4é€‰æ‹©å™¨å˜æ›´äº‹ä»¶&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#4é€‰æ‹©å™¨å˜æ›´äº‹ä»¶&#34;&gt;#&lt;/a&gt; 4. é€‰æ‹©å™¨å˜æ›´äº‹ä»¶&lt;/h1&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;//é€‰æ‹©å™¨é€‰æ‹©äº‹ä»¶&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  bindMultiPickerChange(e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let cityIndex = e.detail.value; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let cityArray = this.data.cityArray;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let province = cityArray[0][cityIndex[0]].name;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let city = cityArray[1][cityIndex[1]].name;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let district = cityArray[2][cityIndex[2]].name;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    //é€‰æ‹©çš„åœ°å€ç¼–ç &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let areaCode = cityArray[2][cityIndex[2]].code;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    //é€‰æ‹©çš„åœ°å€æ–‡æœ¬&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    let selectedAddress = &amp;quot;&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    selectedAddress = province + city + district;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    this.setData(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      region: selectedAddress,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      areaCode: areaCode,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      provinceCode: cityArray[0][cityIndex[0]].code,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      cityCode: cityArray[1][cityIndex[1]].code&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&#34;5æ ¹æ®ä¼ è¿‡æ¥çš„å€¼æ˜¾ç¤ºçœå¸‚åŒº&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#5æ ¹æ®ä¼ è¿‡æ¥çš„å€¼æ˜¾ç¤ºçœå¸‚åŒº&#34;&gt;#&lt;/a&gt; 5. æ ¹æ®ä¼ è¿‡æ¥çš„å€¼æ˜¾ç¤ºçœå¸‚åŒº&lt;/h1&gt;
&lt;p&gt;ä¿®æ”¹åˆå§‹åŒ–é€‰æ‹©å™¨æ–¹æ³•ï¼Œåˆ¤æ–­å½“ä¿®æ”¹åœ°å€æ—¶è¯»å–æ˜¾ç¤ºå·²é€‰æ‹©çš„çœå¸‚åŒºã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;for (let x in array[&amp;quot;86&amp;quot;]) &amp;#123; //å­˜å…¥çœ&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    cityArray[0].push(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    name: array[&amp;quot;86&amp;quot;][x],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    code: x&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;if(this.data.address_id != &amp;quot;&amp;quot;)&amp;#123; //ç¼–è¾‘åœ°å€ï¼Œæ ¹æ®ä¼ è¿‡æ¥çš„åœ°å€æ–‡æœ¬å’Œç¼–ç è°ƒæ•´é€‰æ‹©å™¨&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    for (let y in array[provinceCode]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        cityArray[1].push(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            name: array[provinceCode][y],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            code: y&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    for (let z in array[cityCode]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        cityArray[2].push(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            name: array[cityCode][z],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            code: z&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    for(let i = 0,len = cityArray[0].length;i&amp;lt;len;i++)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        if (cityArray[0][i].code == provinceCode) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            provinceIndex = i;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    for (let j = 0, len = cityArray[1].length; j &amp;lt; len; j++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        if (cityArray[1][j].code == cityCode) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            cityIndex = j;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    for (let k = 0, len = cityArray[2].length; k &amp;lt; len; k++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        if (cityArray[2][k].code == areaCode) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            districtIndex = k;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; else &amp;#123; //æ·»åŠ åœ°å€&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&#34;æ•ˆæœ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ•ˆæœ&#34;&gt;#&lt;/a&gt; æ•ˆæœï¼š&lt;/h2&gt;
&lt;p&gt;&lt;img data-src=&#34;https://hexo-ocean.oss-cn-shanghai.aliyuncs.com/post/1558583329%281%29.png&#34; alt=&#34;image.png&#34;&gt;&lt;/p&gt;
 ]]--></description>
        </item>
        <item>
            <guid ispermalink="true">https://flttx.github.io/2019/05/28/å¾®ä¿¡å°ç¨‹åºé•¿æŒ‰æ•°é‡è‡ªåŠ¨åŠ å‡/</guid>
            <title>å¾®ä¿¡å°ç¨‹åºé•¿æŒ‰æ•°é‡è‡ªåŠ¨åŠ å‡</title>
            <link>https://flttx.github.io/2019/05/28/å¾®ä¿¡å°ç¨‹åºé•¿æŒ‰æ•°é‡è‡ªåŠ¨åŠ å‡/
            <category>å¾®ä¿¡å°ç¨‹åº</category>
            <pubdate>Tue, 28 May 2019 16:18:29 +0800</pubdate>
            <description><!--[CDATA[ &lt;p&gt;å¼€å‘ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºï¼Œæœ‰è´­ç‰©è½¦çš„åŠŸèƒ½ï¼Œåœ¨æµ‹è¯•åŠ å‡è´­ç‰©è½¦ä¸­å•†å“æ•°é‡æ—¶ï¼Œå‘ç°ç‚¹ä¸€ä¸‹åŠ ä¸€æˆ–å‡ä¸€å¤ªçƒ¦ï¼Œäºæ˜¯æ·»åŠ äº†é•¿æŒ‰è‡ªåŠ¨åŠ å‡çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;é¡µé¢ç»„ä»¶&lt;/p&gt;
&lt;figure class=&#34;highlight html&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;class&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&#34;minus&#34;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;catchtouchstart&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&#39;startMinus&#39;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;catchtouchend&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&#39;endMinus&#39;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;data-index&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&#34;&amp;#123;&amp;#123;index&amp;#125;&amp;#125;&#34;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;data-goodIndex&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&#34;&amp;#123;&amp;#123;goodIndex&amp;#125;&amp;#125;&#34;&lt;/span&gt;&amp;gt;&lt;/span&gt;-&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;text&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&amp;#123;good.num&amp;#125;&amp;#125;     &lt;span class=&#34;comment&#34;&gt;&amp;lt;!-- å•†å“æ•°é‡ --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;class&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&#34;add&#34;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;catchtouchstart&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&#39;startAdd&#39;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;catchtouchend&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&#39;endAdd&#39;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;data-index&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&#34;&amp;#123;&amp;#123;index&amp;#125;&amp;#125;&#34;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;data-goodIndex&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&#34;&amp;#123;&amp;#123;goodIndex&amp;#125;&amp;#125;&#34;&lt;/span&gt;&amp;gt;&lt;/span&gt;+&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;text&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;1ç›‘å¬è§¦æ‘¸å¼€å§‹äº‹ä»¶&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#1ç›‘å¬è§¦æ‘¸å¼€å§‹äº‹ä»¶&#34;&gt;#&lt;/a&gt; 1. ç›‘å¬è§¦æ‘¸å¼€å§‹äº‹ä»¶&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆç›‘å¬è§¦æ‘¸å¼€å§‹äº‹ä»¶ touchstartï¼Œè®°å½•è§¦æ‘¸å¼€å§‹æ—¶é—´ï¼Œæ—¶é—´åé¢æœ‰ç”¨ã€‚éœ€è¦ç”¨åˆ°å®šæ—¶å™¨ï¼Œtimer ç”¨çš„æ˜¯é¡µé¢å…¨å±€å˜é‡ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight javascript&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;//æŒ‰ä½åŠ å·ä¸åœåœ°åŠ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;startAdd(e)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    startTime = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;Date&lt;/span&gt;().getTime();  &lt;span class=&#34;comment&#34;&gt;//è®°å½•è§¦æ‘¸å¼€å§‹æ—¶é—´&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; index = e.currentTarget.dataset.index;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; goodIndex = e.currentTarget.dataset.goodindex;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    timer = setInterval(&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;params&#34;&gt;()&lt;/span&gt;=&amp;gt;&lt;/span&gt;&amp;#123;  &lt;span class=&#34;comment&#34;&gt;//å®šä¹‰å®šæ—¶å™¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;this&lt;/span&gt;.data.cartList[index].goodList[goodIndex].num++;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; sumPrice = &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; count = &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;this&lt;/span&gt;.data.cartList.map(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;type, index&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        type.goodList.map(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;good, index&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            count += good.num;  &lt;span class=&#34;comment&#34;&gt;//è®¡ç®—å•†å“æ•°é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (good.selected) &amp;#123;  &lt;span class=&#34;comment&#34;&gt;//è®¡ç®—é€‰ä¸­å•†å“ä»·æ ¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            sumPrice += good.price * good.num;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;this&lt;/span&gt;.setData(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            [&lt;span class=&#34;string&#34;&gt;`cartList[&lt;span class=&#34;subst&#34;&gt;$&amp;#123;index&amp;#125;&lt;/span&gt;].goodList[&lt;span class=&#34;subst&#34;&gt;$&amp;#123;goodIndex&amp;#125;&lt;/span&gt;]`&lt;/span&gt;]: &lt;span class=&#34;keyword&#34;&gt;this&lt;/span&gt;.data.cartList[index].goodList[goodIndex],  &lt;span class=&#34;comment&#34;&gt;//è´­ç‰©è½¦åˆ—è¡¨å†…å®¹å±€éƒ¨åˆ·æ–°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            goodSumPrice: sumPrice,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            cartNum: count &amp;gt; &lt;span class=&#34;number&#34;&gt;99&lt;/span&gt; ? &lt;span class=&#34;string&#34;&gt;&#39;99+&#39;&lt;/span&gt; : count&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;, &lt;span class=&#34;number&#34;&gt;100&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;2ç›‘å¬è§¦æ‘¸ç»“æŸäº‹ä»¶&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#2ç›‘å¬è§¦æ‘¸ç»“æŸäº‹ä»¶&#34;&gt;#&lt;/a&gt; 2. ç›‘å¬è§¦æ‘¸ç»“æŸäº‹ä»¶&lt;/h3&gt;
&lt;p&gt;è§¦æ‘¸ç»“æŸï¼Œåˆ™ç»“æŸæ•°é‡åŠ å‡ï¼Œæ¸…é™¤å®šæ—¶å™¨ã€‚è®°å½•ç»“æŸæ—¶é—´ï¼Œå’Œå¼€å§‹æ—¶é—´æ¯”è¾ƒï¼Œæ ¹æ®å¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£å®šä¹‰ï¼šæ‰‹æŒ‡è§¦æ‘¸åï¼Œè¶…è¿‡ 350ms å†ç¦»å¼€ä¸ºé•¿æŒ‰ã€‚åä¹‹åˆ™è®¤ä¸ºæ˜¯ç‚¹å‡»ï¼Œæ‰§è¡Œç‚¹å‡»çš„é€»è¾‘ï¼Œå³æ•°é‡åŠ ä¸€ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight javascript&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;//ç»“æŸåŠ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;endAdd(e)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    endTime = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;Date&lt;/span&gt;().getTime(); &lt;span class=&#34;comment&#34;&gt;//è®°å½•ç»“æŸæ—¶é—´&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt;((endTime - startTime) &amp;lt; &lt;span class=&#34;number&#34;&gt;350000&lt;/span&gt;)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;this&lt;/span&gt;.clickAdd(e);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    clearInterval(timer);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç‚¹å‡»äº‹ä»¶é€»è¾‘ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight javascript&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;//ç‚¹å‡»åŠ å·&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;clickAdd(e)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; index = e.currentTarget.dataset.index;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; goodIndex = e.currentTarget.dataset.goodindex;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;this&lt;/span&gt;.data.cartList[index].goodList[goodIndex].num ++;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; sumPrice = &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; count = &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;this&lt;/span&gt;.data.cartList.map(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;type, index&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    type.goodList.map(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;good, index&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      count += good.num;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (good.selected) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        sumPrice += good.price * good.num;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;this&lt;/span&gt;.setData(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      [&lt;span class=&#34;string&#34;&gt;`cartList[&lt;span class=&#34;subst&#34;&gt;$&amp;#123;index&amp;#125;&lt;/span&gt;].goodList[&lt;span class=&#34;subst&#34;&gt;$&amp;#123;goodIndex&amp;#125;&lt;/span&gt;]`&lt;/span&gt;]: &lt;span class=&#34;keyword&#34;&gt;this&lt;/span&gt;.data.cartList[index].goodList[goodIndex],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      goodSumPrice: sumPrice,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      cartNum: count&amp;gt;&lt;span class=&#34;number&#34;&gt;99&lt;/span&gt;?&lt;span class=&#34;string&#34;&gt;&#39;99+&#39;&lt;/span&gt;:count&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¹‹æ‰€ä»¥è¦åˆ¤æ–­æ˜¯é•¿æŒ‰è¿˜æ˜¯ç‚¹å‡»æ˜¯å› ä¸ºåœ¨æ ‡ç­¾å…ƒç´ ä¸Šå®šä¹‰äº†è§¦æ‘¸å¼€å§‹äº‹ä»¶åï¼Œtap äº‹ä»¶å°±ä¸å†è§¦å‘ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨è°ƒç”¨ç‚¹å‡»æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å‡å·åŒç†ï¼Œéœ€è¦æ³¨æ„æ•°é‡å‡åˆ° 0 æ—¶çš„æ“ä½œï¼Œæˆ‘çš„é€»è¾‘æ˜¯é•¿æŒ‰æ•°é‡å‡åˆ°ä¸€å°±åœæ­¢ï¼Œå†ç‚¹å‡»å‡å·åˆ™åˆ é™¤è¯¥å•†å“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ•ˆæœå›¾&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ•ˆæœå›¾&#34;&gt;#&lt;/a&gt; æ•ˆæœå›¾&lt;/h3&gt;
&lt;p&gt;&lt;img data-src=&#34;https://hexo-ocean.oss-cn-shanghai.aliyuncs.com/post/pj1sd-gfr7w.gif&#34; alt=&#34;æ•ˆæœå›¾&#34;&gt;&lt;/p&gt;
 ]]--></description>
        </item>
    </channel>
</rss>
