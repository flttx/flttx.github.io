{
    "version": "https://jsonfeed.org/version/1",
    "title": "Flttx's Blog",
    "description": null,
    "home_page_url": "https://flttx.github.io",
    "items": [
        {
            "id": "https://flttx.github.io/2020/08/03/ReactçŸ¥è¯†ç‚¹/",
            "url": "https://flttx.github.io/2020/08/03/ReactçŸ¥è¯†ç‚¹/",
            "title": "ReactçŸ¥è¯†ç‚¹",
            "date_published": "2020-08-03T07:54:31.000Z",
            "content_html": "<h1 id="\"1-reactç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›16ç‰ˆæœ¬ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿäº†å“ªäº›å˜åŒ–\""><a class="\"markdownIt-Anchor\"" href="\"#1-reactç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›16ç‰ˆæœ¬ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿäº†å“ªäº›å˜åŒ–\"">#</a> 1. React ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›ï¼Œ16 ç‰ˆæœ¬ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿäº†å“ªäº›å˜åŒ–ï¼Ÿ</h1>\n<h2 id="\"15ç”Ÿå‘½å‘¨æœŸ\""><a class="\"markdownIt-Anchor\"" href="\"#15ç”Ÿå‘½å‘¨æœŸ\"">#</a> 15 ç”Ÿå‘½å‘¨æœŸ</h2>\n<ul>\n<li>åˆå§‹åŒ–é˜¶æ®µ\n<ul>\n<li>constructor æ„é€ å‡½æ•°</li>\n<li>getDefaultPropsprops é»˜è®¤å€¼</li>\n<li>getInitialStatestate é»˜è®¤å€¼</li>\n</ul>\n</li>\n<li>æŒ‚è½½é˜¶æ®µ\n<ul>\n<li>componentWillMount ç»„ä»¶åˆå§‹åŒ–æ¸²æŸ“å‰è°ƒç”¨</li>\n<li>render ç»„ä»¶æ¸²æŸ“</li>\n<li>componentDidMount ç»„ä»¶æŒ‚è½½åˆ° DOM åè°ƒç”¨</li>\n</ul>\n</li>\n<li>æ›´æ–°é˜¶æ®µ\n<ul>\n<li>componentWillReceiveProps ç»„ä»¶å°†è¦æ¥æ”¶æ–° props å‰è°ƒç”¨</li>\n<li>shouldComponentUpdate ç»„ä»¶æ˜¯å¦éœ€è¦æ›´æ–°</li>\n<li>componentWillUpdate ç»„ä»¶æ›´æ–°å‰è°ƒç”¨</li>\n<li>render ç»„ä»¶æ¸²æŸ“</li>\n<li>componentDidUpdate ç»„ä»¶æ›´æ–°åè°ƒç”¨</li>\n</ul>\n</li>\n<li>å¸è½½é˜¶æ®µ\n<ul>\n<li>componentWillUnmount ç»„ä»¶å¸è½½å‰è°ƒç”¨</li>\n</ul>\n</li>\n</ul>\n<h2 id="\"16ç”Ÿå‘½å‘¨æœŸ\""><a class="\"markdownIt-Anchor\"" href="\"#16ç”Ÿå‘½å‘¨æœŸ\"">#</a> 16 ç”Ÿå‘½å‘¨æœŸ</h2>\n<ul>\n<li>\n<p>åˆå§‹åŒ–é˜¶æ®µ</p>\n<ul>\n<li>constructor æ„é€ å‡½æ•°</li>\n<li>getDefaultPropsprops é»˜è®¤å€¼</li>\n<li>getInitialStatestate é»˜è®¤å€¼</li>\n</ul>\n</li>\n<li>\n<p>æŒ‚è½½é˜¶æ®µ</p>\n<ul>\n<li>static getDerivedStateFromProps(props,state)</li>\n<li>render</li>\n<li>componentDidMount</li>\n</ul>\n<p>getDerivedStateFromPropsï¼šç»„ä»¶æ¯æ¬¡è¢« rerender çš„æ—¶å€™ï¼ŒåŒ…æ‹¬åœ¨ç»„ä»¶æ„å»ºä¹‹å (è™šæ‹Ÿ dom ä¹‹åï¼Œå®é™… dom æŒ‚è½½ä¹‹å‰)ï¼Œæ¯æ¬¡è·å–æ–°çš„ props æˆ– state ä¹‹åï¼›æ¯æ¬¡æ¥æ”¶æ–°çš„ props ä¹‹åéƒ½ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ä½œä¸ºæ–°çš„ stateï¼Œè¿”å› null åˆ™è¯´æ˜ä¸éœ€è¦æ›´æ–° stateï¼›é…åˆ componentDidUpdateï¼Œå¯ä»¥è¦†ç›– componentWillReceiveProps çš„æ‰€æœ‰ç”¨æ³•ã€‚</p>\n</li>\n<li>\n<p>æ›´æ–°é˜¶æ®µ</p>\n<ul>\n<li>static getDerivedStateFromProps(props,state)</li>\n<li>shouldComponentUpdate</li>\n<li>render</li>\n<li>getSnapshotBeforeUpdate(prevProps,prevState)</li>\n<li>componentDidUpdate</li>\n</ul>\n<p>getSnapshotBeforeUpdateï¼šè§¦å‘æ—¶é—´: update å‘ç”Ÿçš„æ—¶å€™ï¼Œåœ¨ render ä¹‹åï¼Œåœ¨ç»„ä»¶ dom æ¸²æŸ“ä¹‹å‰ï¼›è¿”å›ä¸€ä¸ªå€¼ï¼Œä½œä¸º componentDidUpdate çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼›é…åˆ componentDidUpdate, å¯ä»¥è¦†ç›– componentWillUpdate çš„æ‰€æœ‰ç”¨æ³•ã€‚</p>\n</li>\n<li>\n<p>å¸è½½é˜¶æ®µ</p>\n<ul>\n<li>componentWillUnmount</li>\n</ul>\n</li>\n<li>\n<p>é”™è¯¯å¤„ç†</p>\n<ul>\n<li>componentDidCatch</li>\n</ul>\n</li>\n</ul>\n<p>React16 æ–°çš„ç”Ÿå‘½å‘¨æœŸå¼ƒç”¨äº† componentWillMountã€componentWillReceivePorpsï¼ŒcomponentWillUpdate æ–°å¢äº† getDerivedStateFromPropsã€getSnapshotBeforeUpdate æ¥ä»£æ›¿å¼ƒç”¨çš„ä¸‰ä¸ªé’©å­å‡½æ•°ã€‚</p>\n<p>React16 å¹¶æ²¡æœ‰åˆ é™¤è¿™ä¸‰ä¸ªé’©å­å‡½æ•°ï¼Œä½†æ˜¯ä¸èƒ½å’Œæ–°å¢çš„é’©å­å‡½æ•°æ··ç”¨ï¼Œ React17 å°†ä¼šåˆ é™¤è¿™ä¸‰ä¸ªé’©å­å‡½æ•°ï¼Œæ–°å¢äº†å¯¹é”™è¯¯çš„å¤„ç†ï¼ˆ componentDidCatchï¼‰ã€‚</p>\n<h2 id="\"2-setstateæ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„\""><a class="\"markdownIt-Anchor\"" href="\"#2-setstateæ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„\"">#</a> 2. setState æ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„ï¼Ÿ</h2>\n<ul>\n<li>ç”Ÿå‘½å‘¨æœŸå’Œåˆæˆäº‹ä»¶ä¸­</li>\n</ul>\n<p>åœ¨ React çš„ç”Ÿå‘½å‘¨æœŸå’Œåˆæˆäº‹ä»¶ä¸­ï¼Œ React ä»ç„¶å¤„äºä»–çš„æ›´æ–°æœºåˆ¶ä¸­ï¼Œè¿™æ—¶æ— è®ºè°ƒç”¨å¤šå°‘æ¬¡ setStateï¼Œéƒ½ä¼šä¸ä¼šç«‹å³æ‰§è¡Œæ›´æ–°ï¼Œè€Œæ˜¯å°†è¦æ›´æ–°çš„ãƒ»å­˜å…¥ _pendingStateQueueï¼Œå°†è¦æ›´æ–°çš„ç»„ä»¶å­˜å…¥ dirtyComponentã€‚<br>\nå½“ä¸Šä¸€æ¬¡æ›´æ–°æœºåˆ¶æ‰§è¡Œå®Œæ¯•ï¼Œä»¥ç”Ÿå‘½å‘¨æœŸä¸ºä¾‹ï¼Œæ‰€æœ‰ç»„ä»¶ï¼Œå³æœ€é¡¶å±‚ç»„ä»¶ didmount åä¼šå°†æ‰¹å¤„ç†æ ‡å¿—è®¾ç½®ä¸º falseã€‚è¿™æ—¶å°†å–å‡º dirtyComponent ä¸­çš„ç»„ä»¶ä»¥åŠ _pendingStateQueue ä¸­çš„ state è¿›è¡Œæ›´æ–°ã€‚è¿™æ ·å°±å¯ä»¥ç¡®ä¿ç»„ä»¶ä¸ä¼šè¢«é‡æ–°æ¸²æŸ“å¤šæ¬¡ã€‚</p>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">componentDidMount() &#123;</span><br><span class="\"line\"">this.setState(&#123;</span><br><span class="\"line\"">      index: this.state.index + 1</span><br><span class="\"line\"">&#125;)</span><br><span class="\"line\"">console.log(&apos;state&apos;, this.state.index);</span><br><span class="\"line\"">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ‰€ä»¥ï¼Œå¦‚ä¸Šé¢çš„ä»£ç ï¼Œå½“æˆ‘ä»¬åœ¨æ‰§è¡Œ setState åç«‹å³å»è·å– stateï¼Œè¿™æ—¶æ˜¯è·å–ä¸åˆ°æ›´æ–°åçš„ state çš„ï¼Œå› ä¸ºå¤„äº React çš„æ‰¹å¤„ç†æœºåˆ¶ä¸­ï¼Œ state è¢«æš‚å­˜èµ·æ¥ï¼Œå¾…æ‰¹å¤„ç†æœºåˆ¶å®Œæˆä¹‹åï¼Œç»Ÿä¸€è¿›è¡Œæ›´æ–°ã€‚<br>\næ‰€ä»¥ã€‚setState æœ¬èº«å¹¶ä¸æ˜¯å¼‚æ­¥çš„ï¼Œè€Œæ˜¯ React çš„æ‰¹å¤„ç†æœºåˆ¶ç»™äººä¸€ç§å¼‚æ­¥çš„å‡è±¡ã€‚</p>\n<ul>\n<li>å¼‚æ­¥ä»£ç å’ŒåŸç”Ÿäº‹ä»¶ä¸­</li>\n</ul>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">componentDidMount() &#123;</span><br><span class="\"line\"">    setTimeout(() =&gt; &#123;</span><br><span class="\"line\"">      console.log(&apos;è°ƒç”¨setState&apos;);</span><br><span class="\"line\"">        this.setState(&#123;</span><br><span class="\"line\"">            index: this.state.index + 1</span><br><span class="\"line\"">        &#125;)</span><br><span class="\"line\"">        console.log(&apos;state&apos;, this.state.index);</span><br><span class="\"line\"">    &#125;, 0);</span><br><span class="\"line\"">&#125;</span><br></pre></td></tr></table></figure>\n<p>å¦‚ä¸Šé¢çš„ä»£ç ï¼Œå½“æˆ‘ä»¬åœ¨å¼‚æ­¥ä»£ç ä¸­è°ƒç”¨ setState æ—¶ï¼Œæ ¹æ® JavaScript çš„å¼‚æ­¥æœºåˆ¶ï¼Œä¼šå°†å¼‚æ­¥ä»£ç å…ˆæš‚å­˜ï¼Œç­‰æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ååœ¨æ‰§è¡Œï¼Œè¿™æ—¶ React çš„æ‰¹å¤„ç†æœºåˆ¶å·²ç»èµ°å®Œï¼Œå¤„ç†æ ‡å¿—è®¾è¢«è®¾ç½®ä¸º falseï¼Œè¿™æ—¶å†è°ƒç”¨ setState å³å¯ç«‹å³æ‰§è¡Œæ›´æ–°ï¼Œæ‹¿åˆ°æ›´æ–°åçš„ç»“æœã€‚<br>\nåœ¨åŸç”Ÿäº‹ä»¶ä¸­è°ƒç”¨ setState å¹¶ä¸ä¼šå‡ºå‘ React çš„æ‰¹å¤„ç†æœºåˆ¶ï¼Œæ‰€ä»¥ç«‹å³èƒ½æ‹¿åˆ°æœ€æ–°ç»“æœã€‚</p>\n<ul>\n<li>æœ€ä½³å®è·µ</li>\n</ul>\n<p>setState çš„ç¬¬äºŒä¸ªå‚æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šåœ¨ React çš„æ‰¹å¤„ç†æœºåˆ¶å®Œæˆä¹‹åè°ƒç”¨ï¼Œæ‰€ä»¥ä½ æƒ³åœ¨è°ƒç”¨ setState åç«‹å³è·å–æ›´æ–°åçš„å€¼ï¼Œè¯·åœ¨è¯¥å›è°ƒå‡½æ•°ä¸­è·å–ã€‚</p>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">this.setState(&#123; index: this.state.index + 1 &#125;, () =&gt; &#123;</span><br><span class="\"line\"">      console.log(this.state.index);</span><br><span class="\"line\"">&#125;)</span><br></pre></td></tr></table></figure>\n<p>é“¾æ¥ï¼š<span class="\"exturl\"" data-url="\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpnMk5EQXpNakU1TlE9PSZhbXA7bWlkPTIyNDc0ODM5ODkmYW1wO2lkeD0xJmFtcDtzbj1kNzhmODg5YzZlMWQ3ZDU3MDU4YzljMjMyYjFhNjIwZSZhbXA7Y2hrc209Y2U2ZWM2ZjlmOTE5NGZlZjY4MWM3OWVlODY5YmY1OGQ1NDEzMTMyYzczNDk2NzEwYjJlYjMyYzg1OWEyMjQ5YTg5NWMyY2U4YTdjZCZhbXA7c2NlbmU9MjEjd2VjaGF0X3JlZGlyZWN0\"">ç”±å®é™…é—®é¢˜æ¢ç©¶ setState çš„æ‰§è¡Œæœºåˆ¶</span>ã€‚</p>\n<h1 id="\"3-ä¸ºä»€ä¹ˆæœ‰æ—¶è¿ç»­å¤šæ¬¡setstateåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆ\""><a class="\"markdownIt-Anchor\"" href="\"#3-ä¸ºä»€ä¹ˆæœ‰æ—¶è¿ç»­å¤šæ¬¡setstateåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆ\"">#</a> 3. ä¸ºä»€ä¹ˆæœ‰æ—¶è¿ç»­å¤šæ¬¡ setState åªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆï¼Ÿ</h1>\n<p>ä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼Œä¸¤æ¬¡æ‰“å°å‡ºçš„ç»“æœæ˜¯ç›¸åŒçš„ï¼š</p>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">componentDidMount() &#123;</span><br><span class="\"line\"">    this.setState(&#123; index: this.state.index + 1 &#125;, () =&gt; &#123;</span><br><span class="\"line\"">        console.log(this.state.index);</span><br><span class="\"line\"">    &#125;)</span><br><span class="\"line\"">    this.setState(&#123; index: this.state.index + 1 &#125;, () =&gt; &#123;</span><br><span class="\"line\"">        console.log(this.state.index);</span><br><span class="\"line\"">    &#125;)</span><br><span class="\"line\"">&#125;</span><br></pre></td></tr></table></figure>\n<p>åŸå› å°±æ˜¯ React ä¼šæ‰¹å¤„ç†æœºåˆ¶ä¸­å­˜å‚¨çš„å¤šä¸ª setState è¿›è¡Œåˆå¹¶ï¼Œæ¥çœ‹ä¸‹ React æºç ä¸­çš„ _assign å‡½æ•°ï¼Œç±»ä¼¼äº Object çš„ assignï¼š<br>\nå¦‚æœä¼ å…¥çš„æ˜¯å¯¹è±¡ï¼Œå¾ˆæ˜æ˜¾ä¼šè¢«åˆå¹¶æˆä¸€æ¬¡ï¼Œæ‰€ä»¥ä¸Šé¢çš„ä»£ç ä¸¤æ¬¡æ‰“å°çš„ç»“æœæ˜¯ç›¸åŒçš„ï¼š</p>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">Object.assign( </span><br><span class="\"line\"">  nextState,</span><br><span class="\"line\"">&#123;index: state.index+ 1&#125;,</span><br><span class="\"line\"">&#123;index: state.index+ 1&#125;</span><br><span class="\"line\"">)</span><br></pre></td></tr></table></figure>\n<p>æ³¨æ„ï¼Œ assign å‡½æ•°ä¸­å¯¹å‡½æ•°åšäº†ç‰¹æ®Šå¤„ç†ï¼Œå¤„ç†ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•° preState æ˜¯å‰ä¸€æ¬¡åˆå¹¶åçš„ç»“æœï¼Œæ‰€ä»¥è®¡ç®—ç»“æœæ˜¯å‡†ç¡®çš„ï¼š</p>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">componentDidMount() &#123;</span><br><span class="\"line\"">    this.setState((state, props) =&gt; (&#123;</span><br><span class="\"line\"">            index: state.index + 1</span><br><span class="\"line\"">    &#125;), () =&gt; &#123; </span><br><span class="\"line\"">        console.log(this.state.index);</span><br><span class="\"line\"">    &#125;)</span><br><span class="\"line\"">    this.setState((state, props) =&gt; (&#123;</span><br><span class="\"line\"">            index: state.index + 1</span><br><span class="\"line\"">    &#125;), () =&gt; &#123;</span><br><span class="\"line\"">        console.log(this.state.index);</span><br><span class="\"line\"">    &#125;)</span><br><span class="\"line\"">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ‰€ä»¥ä¸Šé¢çš„ä»£ç ä¸¤æ¬¡æ‰“å°çš„ç»“æœæ˜¯ä¸åŒçš„ã€‚</p>\n<ul>\n<li>æœ€ä½³å®è·µ<br>\n React ä¼šå¯¹å¤šæ¬¡è¿ç»­çš„ setState è¿›è¡Œåˆå¹¶ï¼Œå¦‚æœä½ æƒ³ç«‹å³ä½¿ç”¨ä¸Šæ¬¡ setState åçš„ç»“æœè¿›è¡Œä¸‹ä¸€æ¬¡ setStateï¼Œå¯ä»¥è®© setState æ¥æ”¶ä¸€ä¸ªå‡½æ•°è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå‡½æ•°ç”¨ä¸Šä¸€ä¸ª state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°†æ­¤æ¬¡æ›´æ–°è¢«åº”ç”¨æ—¶çš„ props åšä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚</li>\n</ul>\n<h1 id="\"4-è™šæ‹Ÿdomæ¯”æ™®é€šdomæ›´å¿«å—\""><a class="\"markdownIt-Anchor\"" href="\"#4-è™šæ‹Ÿdomæ¯”æ™®é€šdomæ›´å¿«å—\"">#</a> 4. è™šæ‹Ÿ Dom æ¯”æ™®é€š Dom æ›´å¿«å—ï¼Ÿ</h1>\n<p>å¾ˆå¤šæ–‡ç« è¯´ VitrualDom å¯ä»¥æå‡æ€§èƒ½ï¼Œè¿™ä¸€è¯´æ³•å®é™…ä¸Šæ˜¯å¾ˆç‰‡é¢çš„ã€‚<br>\nç›´æ¥æ“ä½œ DOM æ˜¯éå¸¸è€—è´¹æ€§èƒ½çš„ï¼Œè¿™ä¸€ç‚¹æ¯‹åº¸ç½®ç–‘ã€‚ä½†æ˜¯ React ä½¿ç”¨ VitrualDom ä¹Ÿæ˜¯æ— æ³•é¿å…æ“ä½œ DOM çš„ã€‚<br>\nå¦‚æœæ˜¯é¦–æ¬¡æ¸²æŸ“ï¼Œ VitrualDom ä¸å…·æœ‰ä»»ä½•ä¼˜åŠ¿ï¼Œç”šè‡³å®ƒè¦è¿›è¡Œæ›´å¤šçš„è®¡ç®—ï¼Œæ¶ˆè€—æ›´å¤šçš„å†…å­˜ã€‚<br>\nVitrualDom çš„ä¼˜åŠ¿åœ¨äº React çš„ Diff ç®—æ³•å’Œæ‰¹å¤„ç†ç­–ç•¥ï¼Œ React åœ¨é¡µé¢æ›´æ–°ä¹‹å‰ï¼Œæå‰è®¡ç®—å¥½äº†å¦‚ä½•è¿›è¡Œæ›´æ–°å’Œæ¸²æŸ“ DOMã€‚å®é™…ä¸Šï¼Œè¿™ä¸ªè®¡ç®—è¿‡ç¨‹æˆ‘ä»¬åœ¨ç›´æ¥æ“ä½œ DOM æ—¶ï¼Œä¹Ÿæ˜¯å¯ä»¥è‡ªå·±åˆ¤æ–­å’Œå®ç°çš„ï¼Œä½†æ˜¯ä¸€å®šä¼šè€—è´¹éå¸¸å¤šçš„ç²¾åŠ›å’Œæ—¶é—´ï¼Œè€Œä¸”å¾€å¾€æˆ‘ä»¬è‡ªå·±åšçš„æ˜¯ä¸å¦‚ React å¥½çš„ã€‚æ‰€ä»¥ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ React å¸®åŠ©æˆ‘ä»¬ &quot;æå‡äº†æ€§èƒ½&quot;ã€‚<br>\næ‰€ä»¥ï¼Œæˆ‘æ›´å€¾å‘äºè¯´ï¼Œ VitrualDom å¸®åŠ©æˆ‘ä»¬æé«˜äº†å¼€å‘æ•ˆç‡ï¼Œåœ¨é‡å¤æ¸²æŸ“æ—¶å®ƒå¸®åŠ©æˆ‘ä»¬è®¡ç®—å¦‚ä½•æ›´é«˜æ•ˆçš„æ›´æ–°ï¼Œè€Œä¸æ˜¯å®ƒæ¯” DOM æ“ä½œæ›´å¿«ã€‚</p>\n<h1 id="\"5-ä¸ºä»€ä¹ˆä»£ç ä¸­ä¸€å®šè¦å¼•å…¥react\""><a class="\"markdownIt-Anchor\"" href="\"#5-ä¸ºä»€ä¹ˆä»£ç ä¸­ä¸€å®šè¦å¼•å…¥react\"">#</a> 5. ä¸ºä»€ä¹ˆä»£ç ä¸­ä¸€å®šè¦å¼•å…¥ Reactï¼Ÿ</h1>\n<p>JSX åªæ˜¯ä¸º React.createElement (component,props,â€¦children) æ–¹æ³•æä¾›çš„è¯­æ³•ç³–ã€‚<br>\næ‰€æœ‰çš„ JSX ä»£ç æœ€åéƒ½ä¼šè½¬æ¢æˆ React.createElement (â€¦)ï¼Œ Babel å¸®åŠ©æˆ‘ä»¬å®Œæˆäº†è¿™ä¸ªè½¬æ¢çš„è¿‡ç¨‹ã€‚<br>\næ‰€ä»¥ä½¿ç”¨äº† JSX çš„ä»£ç éƒ½å¿…é¡»å¼•å…¥ Reactã€‚</p>\n<h1 id="\"6-ä¸ºä»€ä¹ˆreactç»„ä»¶é¦–å­—æ¯å¿…é¡»å¤§å†™\""><a class="\"markdownIt-Anchor\"" href="\"#6-ä¸ºä»€ä¹ˆreactç»„ä»¶é¦–å­—æ¯å¿…é¡»å¤§å†™\"">#</a> 6. ä¸ºä»€ä¹ˆ React ç»„ä»¶é¦–å­—æ¯å¿…é¡»å¤§å†™ï¼Ÿ</h1>\n<p>babel åœ¨ç¼–è¯‘æ—¶ä¼šåˆ¤æ–­ JSX ä¸­ç»„ä»¶çš„é¦–å­—æ¯ï¼Œå½“é¦–å­—æ¯ä¸ºå°å†™æ—¶ï¼Œå…¶è¢«è®¤å®šä¸ºåŸç”Ÿ DOM æ ‡ç­¾ï¼Œ createElement çš„ç¬¬ä¸€ä¸ªå˜é‡è¢«ç¼–è¯‘ä¸ºå­—ç¬¦ä¸²ï¼›å½“é¦–å­—æ¯ä¸ºå¤§å†™æ—¶ï¼Œå…¶è¢«è®¤å®šä¸ºè‡ªå®šä¹‰ç»„ä»¶ï¼Œ createElement çš„ç¬¬ä¸€ä¸ªå˜é‡è¢«ç¼–è¯‘ä¸ºå¯¹è±¡ã€‚</p>\n<h1 id="\"7-reactåœ¨æ¸²æŸ“çœŸå®domæ—¶åšäº†å“ªäº›æ€§èƒ½ä¼˜åŒ–\""><a class="\"markdownIt-Anchor\"" href="\"#7-reactåœ¨æ¸²æŸ“çœŸå®domæ—¶åšäº†å“ªäº›æ€§èƒ½ä¼˜åŒ–\"">#</a> 7. React åœ¨æ¸²æŸ“çœŸå® Dom æ—¶åšäº†å“ªäº›æ€§èƒ½ä¼˜åŒ–ï¼Ÿ</h1>\n<p>åœ¨ IEï¼ˆ8-11ï¼‰å’Œ Edge æµè§ˆå™¨ä¸­ï¼Œä¸€ä¸ªä¸€ä¸ªæ’å…¥æ— å­å­™çš„èŠ‚ç‚¹ï¼Œæ•ˆç‡è¦è¿œé«˜äºæ’å…¥ä¸€æ•´ä¸ªåºåˆ—åŒ–å®Œæ•´çš„èŠ‚ç‚¹æ ‘ã€‚<br>\nReact é€šè¿‡ lazyTreeï¼Œåœ¨ IEï¼ˆ8-11ï¼‰å’Œ Edge ä¸­è¿›è¡Œå•ä¸ªèŠ‚ç‚¹ä¾æ¬¡æ¸²æŸ“èŠ‚ç‚¹ï¼Œè€Œåœ¨å…¶ä»–æµè§ˆå™¨ä¸­åˆ™é¦–å…ˆå°†æ•´ä¸ªå¤§çš„ DOM ç»“æ„æ„å»ºå¥½ï¼Œç„¶åå†æ•´ä½“æ’å…¥å®¹å™¨ã€‚<br>\nå¹¶ä¸”ï¼Œåœ¨å•ç‹¬æ¸²æŸ“èŠ‚ç‚¹æ—¶ï¼Œ React è¿˜è€ƒè™‘äº† fragment ç­‰ç‰¹æ®ŠèŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹åˆ™ä¸ä¼šä¸€ä¸ªä¸€ä¸ªæ’å…¥æ¸²æŸ“ã€‚</p>\n<h1 id="\"8-hookæœ‰å“ªäº›ä¼˜åŠ¿\""><a class="\"markdownIt-Anchor\"" href="\"#8-hookæœ‰å“ªäº›ä¼˜åŠ¿\"">#</a> 8. Hook æœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ</h1>\n<ul>\n<li>å‡å°‘çŠ¶æ€é€»è¾‘å¤ç”¨çš„é£é™©</li>\n</ul>\n<p>Hook å’Œ Mixin åœ¨ç”¨æ³•ä¸Šæœ‰ä¸€å®šçš„ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†æ˜¯ Mixin å¼•å…¥çš„é€»è¾‘å’ŒçŠ¶æ€æ˜¯å¯ä»¥ç›¸äº’è¦†ç›–çš„ï¼Œè€Œå¤šä¸ª Hook ä¹‹é—´äº’ä¸å½±å“ï¼Œè¿™è®©æˆ‘ä»¬ä¸éœ€è¦åœ¨æŠŠä¸€éƒ¨åˆ†ç²¾åŠ›æ”¾åœ¨é˜²æ­¢é¿å…é€»è¾‘å¤ç”¨çš„å†²çªä¸Šã€‚åœ¨ä¸éµå®ˆçº¦å®šçš„æƒ…å†µä¸‹ä½¿ç”¨ HOC ä¹Ÿæœ‰å¯èƒ½å¸¦æ¥ä¸€å®šå†²çªï¼Œæ¯”å¦‚ props è¦†ç›–ç­‰ç­‰ï¼Œä½¿ç”¨ Hook åˆ™å¯ä»¥é¿å…è¿™äº›é—®é¢˜ã€‚</p>\n<ul>\n<li>é¿å…åœ°ç‹±å¼åµŒå¥—</li>\n</ul>\n<p>å¤§é‡ä½¿ç”¨ HOC çš„æƒ…å†µä¸‹è®©æˆ‘ä»¬çš„ä»£ç å˜å¾—åµŒå¥—å±‚çº§éå¸¸æ·±ï¼Œä½¿ç”¨ HOCï¼Œæˆ‘ä»¬å¯ä»¥å®ç°æ‰å¹³å¼çš„çŠ¶æ€é€»è¾‘å¤ç”¨ï¼Œè€Œé¿å…äº†å¤§é‡çš„ç»„ä»¶åµŒå¥—ã€‚</p>\n<ul>\n<li>è®©ç»„ä»¶æ›´å®¹æ˜“ç†è§£</li>\n</ul>\n<p>åœ¨ä½¿ç”¨ class ç»„ä»¶æ„å»ºæˆ‘ä»¬çš„ç¨‹åºæ—¶ï¼Œä»–ä»¬å„è‡ªæ‹¥æœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œä¸šåŠ¡é€»è¾‘çš„å¤æ‚ä½¿è¿™äº›ç»„ä»¶å˜å¾—è¶Šæ¥è¶Šåºå¤§ï¼Œå„ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ä¼šè°ƒç”¨è¶Šæ¥è¶Šå¤šçš„é€»è¾‘ï¼Œè¶Šæ¥è¶Šéš¾ä»¥ç»´æŠ¤ã€‚ä½¿ç”¨ Hookï¼Œå¯ä»¥è®©ä½ æ›´å¤§é™åº¦çš„å°†å…¬ç”¨é€»è¾‘æŠ½ç¦»ï¼Œå°†ä¸€ä¸ªç»„ä»¶åˆ†å‰²æˆæ›´å°çš„å‡½æ•°ï¼Œè€Œä¸æ˜¯å¼ºåˆ¶åŸºäºç”Ÿå‘½å‘¨æœŸæ–¹æ³•è¿›è¡Œåˆ†å‰²ã€‚</p>\n<ul>\n<li>ä½¿ç”¨å‡½æ•°ä»£æ›¿ class</li>\n</ul>\n<p>ç›¸æ¯”å‡½æ•°ï¼Œç¼–å†™ä¸€ä¸ª class å¯èƒ½éœ€è¦æŒæ¡æ›´å¤šçš„çŸ¥è¯†ï¼Œéœ€è¦æ³¨æ„çš„ç‚¹ä¹Ÿè¶Šå¤šï¼Œæ¯”å¦‚ this æŒ‡å‘ã€ç»‘å®šäº‹ä»¶ç­‰ç­‰ã€‚å¦å¤–ï¼Œè®¡ç®—æœºç†è§£ä¸€ä¸ª class æ¯”ç†è§£ä¸€ä¸ªå‡½æ•°æ›´å¿«ã€‚Hooks è®©ä½ å¯ä»¥åœ¨ classes ä¹‹å¤–ä½¿ç”¨æ›´å¤š React çš„æ–°ç‰¹æ€§ã€‚</p>\n",
            "tags": [
                "react"
            ]
        },
        {
            "id": "https://flttx.github.io/2020/08/03/4-0-æŠ€å·§/",
            "url": "https://flttx.github.io/2020/08/03/4-0-æŠ€å·§/",
            "title": "Antv G2 4.0+æŠ€å·§",
            "date_published": "2020-08-03T07:45:38.000Z",
            "content_html": "<p>AntV æ˜¯èš‚èšé‡‘æœå…¨æ–°ä¸€ä»£æ•°æ®å¯è§†åŒ–è§£å†³æ–¹æ¡ˆï¼Œè‡´åŠ›äºæä¾›ä¸€å¥—ç®€å•æ–¹ä¾¿ã€ä¸“ä¸šå¯é ã€æ— é™å¯èƒ½çš„æ•°æ®å¯è§†åŒ–æœ€ä½³å®è·µã€‚ç½‘å€ï¼š<span class="\"exturl\"" data-url="\"aHR0cHM6Ly9hbnR2LnZpc2lvbi96aCVFMyU4MCU4Mg==\"">https://antv.vision/zhã€‚</span></p>\n<p>G2 ä¸€å¥—é¢å‘å¸¸è§„ç»Ÿè®¡å›¾è¡¨ï¼Œä»¥æ•°æ®é©±åŠ¨çš„é«˜äº¤äº’å¯è§†åŒ–å›¾å½¢è¯­æ³•ï¼Œå…·æœ‰é«˜åº¦çš„æ˜“ç”¨æ€§å’Œæ‰©å±•æ€§ã€‚ä½¿ç”¨ G2ï¼Œä½ å¯ä»¥æ— éœ€å…³æ³¨å›¾è¡¨å„ç§ç¹ççš„å®ç°ç»†èŠ‚ï¼Œä¸€æ¡è¯­å¥å³å¯ä½¿ç”¨ Canvas æˆ– SVG æ„å»ºå‡ºå„ç§å„æ ·çš„å¯äº¤äº’çš„ç»Ÿè®¡å›¾è¡¨ã€‚ç½‘å€ï¼š<span class="\"exturl\"" data-url="\"aHR0cHM6Ly9nMi5hbnR2LnZpc2lvbi96aCVFMyU4MCU4Mg==\"">https://g2.antv.vision/zhã€‚</span></p>\n<h1 id="\"1-è®¾ç½®å›¾ä¾‹\""><a class="\"markdownIt-Anchor\"" href="\"#1-è®¾ç½®å›¾ä¾‹\"">#</a> 1. è®¾ç½®å›¾ä¾‹</h1>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br><span class="\"line\"">13</span><br><span class="\"line\"">14</span><br><span class="\"line\"">15</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">legend(&#123; position: &apos;top-left&apos;,</span><br><span class="\"line\"">       offsetX: 200,</span><br><span class="\"line\"">       itemName: &#123;  //è®¾ç½®å›¾ä¾‹æ–‡æœ¬</span><br><span class="\"line\"">         style: &#123;</span><br><span class="\"line\"">           fontSize: 14,</span><br><span class="\"line\"">           fill: &apos;#5F717D&apos;,</span><br><span class="\"line\"">           x: 22,</span><br><span class="\"line\"">         &#125;,</span><br><span class="\"line\"">       &#125;,</span><br><span class="\"line\"">       marker: &#123;  //è®¾ç½®å›¾ä¾‹æ ‡æ³¨æ ·å¼</span><br><span class="\"line\"">         style: &#123;</span><br><span class="\"line\"">           r: 6,</span><br><span class="\"line\"">         &#125;,</span><br><span class="\"line\"">       &#125;,</span><br><span class="\"line\"">   &#125;);</span><br></pre></td></tr></table></figure>\n<p>å…·ä½“ style å±æ€§å‚è€ƒï¼š<span class="\"exturl\"" data-url="\"aHR0cHM6Ly9nMi5hbnR2LnZpc2lvbi96aC9kb2NzL2FwaS9pbnRlcmZhY2VzL3NoYXBlbWFya2VyYXR0cnMlRTMlODAlODI=\"">https://g2.antv.vision/zh/docs/api/interfaces/shapemarkerattrsã€‚</span></p>\n<h1 id="\"2-è‡ªå®šä¹‰å›¾ä¾‹ç‚¹å‡»äº‹ä»¶éšè—å¯¹åº”å›¾å½¢\""><a class="\"markdownIt-Anchor\"" href="\"#2-è‡ªå®šä¹‰å›¾ä¾‹ç‚¹å‡»äº‹ä»¶éšè—å¯¹åº”å›¾å½¢\"">#</a> 2. è‡ªå®šä¹‰å›¾ä¾‹ç‚¹å‡»äº‹ä»¶ï¼Œéšè—å¯¹åº”å›¾å½¢</h1>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br><span class="\"line\"">13</span><br><span class="\"line\"">14</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">chartRef.current.on(&apos;legend:click&apos;, (ev: any) =&gt; &#123;</span><br><span class="\"line\"">    const &#123; unchecked, value &#125; = ev.target.cfg.delegateObject.item;</span><br><span class="\"line\"">    const geoms = chartRef.current.geometries;</span><br><span class="\"line\"">    for (let i = 0; i &lt; geoms.length; i++) &#123;</span><br><span class="\"line\"">        const geom = geoms[i];</span><br><span class="\"line\"">        if (geom.getYScale().field === value) &#123;</span><br><span class="\"line\"">            if (!unchecked) &#123;</span><br><span class="\"line\"">                geom.show();</span><br><span class="\"line\"">            &#125; else &#123;</span><br><span class="\"line\"">                geom.hide();</span><br><span class="\"line\"">            &#125;</span><br><span class="\"line\"">        &#125;</span><br><span class="\"line\"">    &#125;</span><br><span class="\"line\"">&#125;);</span><br></pre></td></tr></table></figure>",
            "tags": [
                "react"
            ]
        },
        {
            "id": "https://flttx.github.io/2019/08/15/æ‰‹æœºç«¯è°ƒç”¨ç™¾åº¦å›¾ç‰‡è¯†åˆ«API/",
            "url": "https://flttx.github.io/2019/08/15/æ‰‹æœºç«¯è°ƒç”¨ç™¾åº¦å›¾ç‰‡è¯†åˆ«API/",
            "title": "æ‰‹æœºç«¯è°ƒç”¨ç™¾åº¦å›¾ç‰‡è¯†åˆ«API",
            "date_published": "2019-08-15T02:09:02.000Z",
            "content_html": "<p>å› ä¸ºä¸šåŠ¡éœ€æ±‚ï¼Œæœ‰è½¦ç‰Œè¯†åˆ«çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸Šç½‘æ‰¾äº†å›¾ç‰‡è¯†åˆ«çš„è§£å†³æ–¹æ¡ˆï¼Œå‘ç° BAT éƒ½æœ‰ï¼Œä½†æ˜¯ç™¾åº¦çš„å…è´¹æ¬¡æ•°æœ€å¤šï¼Œå¯¹ä¸šåŠ¡æ¥è¯´å°±ç›¸å½“äºå…¨å…è´¹äº†ï¼Œæ‰€ä»¥å°±é€‰æ‹©äº†ç™¾åº¦çš„ APIï¼ŒğŸ˜„ã€‚å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š<span class="\"exturl\"" data-url="\"aHR0cHM6Ly9haS5iYWlkdS5jb20vZG9jcyMvT0NSLUFQSS90b3AlRTMlODAlODI=\"">https://ai.baidu.com/docs#/OCR-API/topã€‚</span></p>\n<h1 id="\"1æ‹ç…§è·å–å›¾ç‰‡\""><a class="\"markdownIt-Anchor\"" href="\"#1æ‹ç…§è·å–å›¾ç‰‡\"">#</a> 1. æ‹ç…§è·å–å›¾ç‰‡</h1>\n<p>é¡¹ç›®æ˜¯ H5 APPï¼Œæ‹ç…§ç”¨äº† H5 + çš„ apiã€‚</p>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br><span class="\"line\"">13</span><br><span class="\"line\"">14</span><br><span class="\"line\"">15</span><br><span class="\"line\"">16</span><br><span class="\"line\"">17</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">//æ‹ç…§</span><br><span class="\"line\"">captureImage() &#123;</span><br><span class="\"line\"">    let _this = this;</span><br><span class="\"line\"">    var cmr = plus.camera.getCamera();</span><br><span class="\"line\"">    var res = cmr.supportedImageResolutions[0];  //æ‘„åƒå¤´æ”¯æŒçš„æ‹ç…§åˆ†è¾¨ç‡</span><br><span class="\"line\"">    var fmt = cmr.supportedImageFormats[0]; //æ‘„åƒå¤´æ”¯æŒçš„æ‹ç…§æ–‡ä»¶æ ¼å¼</span><br><span class="\"line\"">    cmr.captureImage((path)=&gt; &#123;</span><br><span class="\"line\"">            _this.convertUrl(path);</span><br><span class="\"line\"">        &#125;,</span><br><span class="\"line\"">        function(error) &#123;</span><br><span class="\"line\"">            console.log(&quot;Capture image failed: &quot; + error.message);</span><br><span class="\"line\"">        &#125;, &#123;</span><br><span class="\"line\"">            resolution: res,</span><br><span class="\"line\"">            format: fmt</span><br><span class="\"line\"">        &#125;</span><br><span class="\"line\"">    );</span><br><span class="\"line\"">&#125;,</span><br></pre></td></tr></table></figure>\n<h1 id="\"2å›¾ç‰‡è½¬base64\""><a class="\"markdownIt-Anchor\"" href="\"#2å›¾ç‰‡è½¬base64\"">#</a> 2. å›¾ç‰‡è½¬ base64</h1>\n<p>æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œå›¾ç‰‡è¦è½¬æˆ base64 æ•°æ®ã€‚</p>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br><span class="\"line\"">13</span><br><span class="\"line\"">14</span><br><span class="\"line\"">15</span><br><span class="\"line\"">16</span><br><span class="\"line\"">17</span><br><span class="\"line\"">18</span><br><span class="\"line\"">19</span><br><span class="\"line\"">20</span><br><span class="\"line\"">21</span><br><span class="\"line\"">22</span><br><span class="\"line\"">23</span><br><span class="\"line\"">24</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">//è½¬æ¢å›¾ç‰‡è·¯å¾„å¹¶è°ƒç”¨æ–¹æ³•è¯†åˆ«</span><br><span class="\"line\"">convertUrl(path)&#123;</span><br><span class="\"line\"">    let _this = this;</span><br><span class="\"line\"">    //è½¬æ¢ä¸ºæœ¬åœ°æ–‡ä»¶è·¯å¾„</span><br><span class="\"line\"">    plus.io.resolveLocalFileSystemURL(path, function(entry) &#123;</span><br><span class="\"line\"">        var localurl = entry.toLocalURL(); </span><br><span class="\"line\"">        var reader = new plus.io.FileReader();  </span><br><span class="\"line\"">        reader.onloadend = function (e) &#123;  </span><br><span class="\"line\"">                var imgData = e.target.result.replace(&quot;data:image/jpeg;base64,&quot;, &quot;&quot;).replace(&quot;data:image/png;base64,&quot;, &quot;&quot;);//base64å›¾ç‰‡  </span><br><span class="\"line\"">                ocr.startOCR(imgData, res=&gt;&#123;</span><br><span class="\"line\"">                var number = res.words_result.number;</span><br><span class="\"line\"">                if(number.length == 7)&#123;</span><br><span class="\"line\"">                    uni.showToast(&#123;</span><br><span class="\"line\"">                        title: &quot;è¯†åˆ«æˆåŠŸ&quot;,</span><br><span class="\"line\"">                        icon: &quot;none&quot;</span><br><span class="\"line\"">                    &#125;)</span><br><span class="\"line\"">                    var values = number.split(&quot;&quot;);</span><br><span class="\"line\"">                    _this.result = values;</span><br><span class="\"line\"">                &#125;</span><br><span class="\"line\"">                &#125;);</span><br><span class="\"line\"">        &#125;;  </span><br><span class="\"line\"">        reader.readAsDataURL(localurl);  </span><br><span class="\"line\"">    &#125;);</span><br><span class="\"line\"">&#125;,</span><br></pre></td></tr></table></figure>\n<h1 id="\"3è·å–access-token\""><a class="\"markdownIt-Anchor\"" href="\"#3è·å–access-token\"">#</a> 3. è·å– Access Token</h1>\n<p>å¥½äº†ï¼Œç°åœ¨å›¾ç‰‡æ•°æ®æœ‰äº†ï¼Œåœ¨è°ƒç™¾åº¦è½¦ç‰Œè¯†åˆ« API ä¹‹å‰è¿˜è¦å…ˆè·å– Access Token, è€Œè¦è·å– Access Tokenï¼Œåˆå¾—å…ˆç™»è®°ä¸€ä¸ªåº”ç”¨ï¼Œå–åˆ°åº”ç”¨çš„ API KEY å’Œ SECRET KEYã€‚</p>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br><span class="\"line\"">13</span><br><span class="\"line\"">14</span><br><span class="\"line\"">15</span><br><span class="\"line\"">16</span><br><span class="\"line\"">17</span><br><span class="\"line\"">18</span><br><span class="\"line\"">19</span><br><span class="\"line\"">20</span><br><span class="\"line\"">21</span><br><span class="\"line\"">22</span><br><span class="\"line\"">23</span><br><span class="\"line\"">24</span><br><span class="\"line\"">25</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">//è·å–access_token</span><br><span class="\"line\"">function requestAccessToken(callback) &#123;</span><br><span class="\"line\"">\tlet params = &#123;</span><br><span class="\"line\"">\t\tgrant_type: &apos;client_credentials&apos;,  //å›ºå®šå€¼</span><br><span class="\"line\"">\t\tclient_id: api_key,  //ç™»è®°åº”ç”¨çš„API KEY</span><br><span class="\"line\"">\t\tclient_secret: secret_key //ç™»è®°åº”ç”¨çš„SECRET KEY</span><br><span class="\"line\"">\t&#125;</span><br><span class="\"line\""></span><br><span class="\"line\"">    //networkæ˜¯å°è£…çš„ajaxè¯·æ±‚å‡½æ•°</span><br><span class="\"line\"">\tnetwork.request(&apos;https://aip.baidubce.com/oauth/2.0/token&apos;, params, null, &quot;GET&quot;, res =&gt; &#123;</span><br><span class="\"line\"">\t\tif (res.hasOwnProperty(&apos;access_token&apos;)) &#123;</span><br><span class="\"line\"">\t\t\tlet nowTime = new Date().getTime();  </span><br><span class="\"line\"">            //è®°å½•å½“å‰è¯·æ±‚æ—¶é—´æ˜¯ä¸ºäº†åˆ¤æ–­access_tokenæ˜¯å¦è¿‡æœŸ</span><br><span class="\"line\"">\t\t\tlet access_token_obj = &#123;</span><br><span class="\"line\"">\t\t\t\taccess_token: res.access_token,</span><br><span class="\"line\"">\t\t\t\trequestTime: nowTime  </span><br><span class="\"line\"">\t\t\t&#125;</span><br><span class="\"line\"">\t\t\tuni.setStorageSync(&quot;access_token_obj&quot;, access_token_obj)</span><br><span class="\"line\"">\t\t\tcallback(res.access_token);</span><br><span class="\"line\"">\t\t&#125; else &#123; //è·å–access_tokenå¤±è´¥</span><br><span class="\"line\"">\t\t\tconsole.log(JSON.stringify(res));</span><br><span class="\"line\"">\t\t&#125;</span><br><span class="\"line\""></span><br><span class="\"line\"">\t&#125;);</span><br><span class="\"line\"">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id="\"4è°ƒç”¨è½¦ç‰Œè¯†åˆ«api\""><a class="\"markdownIt-Anchor\"" href="\"#4è°ƒç”¨è½¦ç‰Œè¯†åˆ«api\"">#</a> 4. è°ƒç”¨è½¦ç‰Œè¯†åˆ« API</h1>\n<p>å…ˆåˆ¤æ–­ä¹‹å‰æ˜¯å¦è¯·æ±‚è¿‡ access_tokenï¼Œå¦‚æœè¯·æ±‚è¿‡å†åˆ¤æ–­ access_token æ˜¯å¦è¿‡æœŸã€‚</p>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br><span class="\"line\"">13</span><br><span class="\"line\"">14</span><br><span class="\"line\"">15</span><br><span class="\"line\"">16</span><br><span class="\"line\"">17</span><br><span class="\"line\"">18</span><br><span class="\"line\"">19</span><br><span class="\"line\"">20</span><br><span class="\"line\"">21</span><br><span class="\"line\"">22</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">/**</span><br><span class="\"line\""> * å¼€å§‹è¿›è¡Œæ–‡å­—è¯†åˆ«ï¼Œä¼ å…¥base64å›¾ç‰‡æ•°æ®å’Œå›è°ƒå‡½æ•°</span><br><span class="\"line\""> */</span><br><span class="\"line\"">function startOCR(imgData, callback) &#123;</span><br><span class="\"line\"">\tconsole.log(&quot;å¼€å§‹è¯†åˆ«...&quot;);</span><br><span class="\"line\"">\tconsole.log(&quot;access_tokenç¼“å­˜ï¼Ÿ&quot; + uni.getStorageSync(&quot;access_token_obj&quot;));</span><br><span class="\"line\"">\tif (uni.getStorageSync(&quot;access_token_obj&quot;)) &#123; //å¦‚æœaccess_tokenå·²å­˜å…¥ç¼“å­˜ï¼Œè¡¨ç¤ºè¯·æ±‚è¿‡</span><br><span class="\"line\"">\t\tlet obj = uni.getStorageSync(&quot;access_token_obj&quot;);</span><br><span class="\"line\"">\t\tlet nowTime = new Date().getTime();</span><br><span class="\"line\"">\t\tif ((nowTime - obj.requestTime) &gt;= 1000 * 3600 * 24 * 30) &#123; //å¦‚æœä¸Šæ¬¡è¯·æ±‚æ—¶é—´åœ¨30å¤©ä¹‹å‰ï¼Œåˆ™éœ€è¦é‡æ–°è·å–access_token</span><br><span class="\"line\"">\t\t\trequestAccessToken(res =&gt; &#123;</span><br><span class="\"line\"">\t\t\t\trecognition(res, imgData, callback);</span><br><span class="\"line\"">\t\t\t&#125;);</span><br><span class="\"line\"">\t\t&#125; else &#123;</span><br><span class="\"line\"">\t\t\trecognition(obj.access_token, imgData, callback);</span><br><span class="\"line\"">\t\t&#125;</span><br><span class="\"line\"">\t&#125; else &#123; //ç¼“å­˜ä¸­æ²¡æœ‰access_token</span><br><span class="\"line\"">\t\trequestAccessToken(res =&gt; &#123;</span><br><span class="\"line\"">\t\t\trecognition(res, imgData, callback);</span><br><span class="\"line\"">\t\t&#125;);</span><br><span class="\"line\"">\t&#125;</span><br><span class="\"line\"">&#125;</span><br></pre></td></tr></table></figure>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br><span class="\"line\"">13</span><br><span class="\"line\"">14</span><br><span class="\"line\"">15</span><br><span class="\"line\"">16</span><br><span class="\"line\"">17</span><br><span class="\"line\"">18</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">//è¯†åˆ«ä¸­...è°ƒç”¨æ–‡å­—è¯†åˆ«API,ä¼ å…¥å›¾ç‰‡æ•°æ®å‚æ•°</span><br><span class="\"line\"">function recognition(access_token, imgData, callback) &#123;</span><br><span class="\"line\"">\tlet params = &#123;</span><br><span class="\"line\"">\t\taccess_token: access_token,</span><br><span class="\"line\"">\t\timage: imgData</span><br><span class="\"line\"">\t&#125;;</span><br><span class="\"line\"">\tlet header = &#123;</span><br><span class="\"line\"">\t\t&apos;Content-Type&apos;: &apos;application/x-www-form-urlencoded&apos;  //è¯·æ±‚å¤´è®¾ç½®æˆå›ºå®šå€¼</span><br><span class="\"line\"">\t&#125;;</span><br><span class="\"line\"">\tnetwork.request(&apos;https://aip.baidubce.com/rest/2.0/ocr/v1/license_plate&apos;, params, header, &quot;POST&quot;, res =&gt; &#123;</span><br><span class="\"line\"">\t\tcallback(res);</span><br><span class="\"line\"">\t&#125;, err =&gt; &#123;</span><br><span class="\"line\"">\t\tuni.showToast(&#123;</span><br><span class="\"line\"">\t\t\ttitle: &quot;è¯·å¯¹å‡†è½¦ç‰Œé‡æ–°æ‹ç…§&quot;,</span><br><span class="\"line\"">\t\t\ticon: &quot;none&quot;</span><br><span class="\"line\"">\t\t&#125;)</span><br><span class="\"line\"">\t&#125;, &quot;è¯†åˆ«ä¸­...&quot;);</span><br><span class="\"line\"">&#125;</span><br></pre></td></tr></table></figure>\n<p>åªè¦å‚æ•°éƒ½æ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±èƒ½å¾—åˆ°è¿”å›ç»“æœï¼Œè¿”å›è½¦ç‰Œä¿¡æ¯ï¼ˆè½¦ç‰Œå·ã€è½¦ç‰Œé¢œè‰²ç­‰ç­‰ï¼‰ã€‚<br>\nè°ƒç”¨å…¶ä»–åœºæ™¯çš„å›¾ç‰‡è¯†åˆ« API åŒç†ã€‚</p>\n",
            "tags": [
                "H5 APP"
            ]
        },
        {
            "id": "https://flttx.github.io/2019/07/16/å¾®ä¿¡å°ç¨‹åºçœå¸‚åŒºä¸‰çº§è”åŠ¨ä¼˜åŒ–ç‰ˆ/",
            "url": "https://flttx.github.io/2019/07/16/å¾®ä¿¡å°ç¨‹åºçœå¸‚åŒºä¸‰çº§è”åŠ¨ä¼˜åŒ–ç‰ˆ/",
            "title": "å¾®ä¿¡å°ç¨‹åºçœå¸‚åŒºä¸‰çº§è”åŠ¨ä¼˜åŒ–ç‰ˆ",
            "date_published": "2019-07-16T06:22:24.000Z",
            "content_html": "<p>ä¼˜åŒ–ç‰ˆçš„çœå¸‚åŒºé€‰æ‹©å™¨ï¼Œæ›´ç®€åŒ–çš„ Js æ•°æ®ï¼Œæ–¹ä¾¿è¾“å‡ºä»¥åŠè¯»å–æ˜¾ç¤ºã€‚js åœ°å€ï¼š<span class="\"exturl\"" data-url="\"aHR0cHM6Ly9oZXhvLW9jZWFuLm9zcy1jbi1zaGFuZ2hhaS5hbGl5dW5jcy5jb20vcG9zdC9qcy9jaXR5RGF0YS5qcw==\"">åŸå¸‚æ•°æ® js</span>ã€‚</p>\n<p>é¡µé¢ç»„ä»¶ï¼š</p>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">&lt;picker mode=&quot;multiSelector&quot; bindchange=&quot;bindMultiPickerChange&quot; bindcolumnchange=&quot;bindMultiPickerColumnChange&quot; </span><br><span class="\"line\"">value=&quot;&#123;&#123;citiesIndex&#125;&#125;&quot; range=&quot;&#123;&#123;cityArray&#125;&#125;&quot; range-key=&quot;name&quot;&gt;</span><br><span class="\"line\"">  &lt;/picker&gt;</span><br></pre></td></tr></table></figure>\n<p>js ä¼˜åŒ–åæ— éœ€æ”¾æœåŠ¡å™¨è¯·æ±‚ï¼Œæ”¾æœ¬åœ°å³å¯ã€‚</p>\n<h1 id="\"1åŠ è½½åŸå¸‚æ•°æ®\""><a class="\"markdownIt-Anchor\"" href="\"#1åŠ è½½åŸå¸‚æ•°æ®\"">#</a> 1. åŠ è½½åŸå¸‚æ•°æ®</h1>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">var array = require(&apos;../../../utils/cityData.js&apos;).cityData;</span><br></pre></td></tr></table></figure>\n<h1 id="\"2é€‰æ‹©å™¨æ•°æ®åˆå§‹åŒ–\""><a class="\"markdownIt-Anchor\"" href="\"#2é€‰æ‹©å™¨æ•°æ®åˆå§‹åŒ–\"">#</a> 2. é€‰æ‹©å™¨æ•°æ®åˆå§‹åŒ–</h1>\n<p>åˆå§‹åŒ–é€‰æ‹©å™¨æ•°æ®ï¼Œé»˜è®¤éƒ½é€‰ä¸­ç¬¬ä¸€é¡¹ã€‚</p>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br><span class="\"line\"">13</span><br><span class="\"line\"">14</span><br><span class="\"line\"">15</span><br><span class="\"line\"">16</span><br><span class="\"line\"">17</span><br><span class="\"line\"">18</span><br><span class="\"line\"">19</span><br><span class="\"line\"">20</span><br><span class="\"line\"">21</span><br><span class="\"line\"">22</span><br><span class="\"line\"">23</span><br><span class="\"line\"">24</span><br><span class="\"line\"">25</span><br><span class="\"line\"">26</span><br><span class="\"line\"">27</span><br><span class="\"line\"">28</span><br><span class="\"line\"">29</span><br><span class="\"line\"">30</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">let cityArray = [</span><br><span class="\"line\"">    [],</span><br><span class="\"line\"">    [],</span><br><span class="\"line\"">    []</span><br><span class="\"line\"">];</span><br><span class="\"line\""></span><br><span class="\"line\"">for (let x in array[&quot;86&quot;]) &#123; //å­˜å…¥çœ</span><br><span class="\"line\"">    cityArray[0].push(&#123;</span><br><span class="\"line\"">    name: array[&quot;86&quot;][x],</span><br><span class="\"line\"">    code: x</span><br><span class="\"line\"">    &#125;);</span><br><span class="\"line\"">&#125;</span><br><span class="\"line\""></span><br><span class="\"line\"">for (let y in array[cityArray[0][0].code]) &#123; //å­˜å…¥å¸‚ï¼Œé»˜è®¤å…³è”ç¬¬ä¸€ä¸ªçœ</span><br><span class="\"line\"">    cityArray[1].push(&#123;</span><br><span class="\"line\"">        name: array[cityArray[0][0].code][y],</span><br><span class="\"line\"">        code: y</span><br><span class="\"line\"">    &#125;);</span><br><span class="\"line\"">&#125;</span><br><span class="\"line\""></span><br><span class="\"line\"">for (let z in array[cityArray[1][0].code]) &#123; //å­˜å…¥åŒºï¼Œé»˜è®¤å…³è”ç¬¬ä¸€ä¸ªçœçš„ç¬¬ä¸€ä¸ªå¸‚</span><br><span class="\"line\"">    cityArray[2].push(&#123;</span><br><span class="\"line\"">        name: array[cityArray[1][0].code][z],</span><br><span class="\"line\"">        code: z</span><br><span class="\"line\"">    &#125;);</span><br><span class="\"line\"">&#125;</span><br><span class="\"line\""></span><br><span class="\"line\"">this.setData(&#123;</span><br><span class="\"line\"">    cityArray: cityArray</span><br><span class="\"line\"">&#125;);</span><br></pre></td></tr></table></figure>\n<h1 id="\"3åˆ—æ»šåŠ¨äº‹ä»¶\""><a class="\"markdownIt-Anchor\"" href="\"#3åˆ—æ»šåŠ¨äº‹ä»¶\"">#</a> 3. åˆ—æ»šåŠ¨äº‹ä»¶</h1>\n<p>æ»šåŠ¨é€‰æ‹©å™¨çš„åˆ—æ—¶ç›¸åº”çš„æ•°æ®å˜åŒ–ï¼Œè¿™æ˜¯æœ€é‡è¦çš„ç‚¹ã€‚</p>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br><span class="\"line\"">13</span><br><span class="\"line\"">14</span><br><span class="\"line\"">15</span><br><span class="\"line\"">16</span><br><span class="\"line\"">17</span><br><span class="\"line\"">18</span><br><span class="\"line\"">19</span><br><span class="\"line\"">20</span><br><span class="\"line\"">21</span><br><span class="\"line\"">22</span><br><span class="\"line\"">23</span><br><span class="\"line\"">24</span><br><span class="\"line\"">25</span><br><span class="\"line\"">26</span><br><span class="\"line\"">27</span><br><span class="\"line\"">28</span><br><span class="\"line\"">29</span><br><span class="\"line\"">30</span><br><span class="\"line\"">31</span><br><span class="\"line\"">32</span><br><span class="\"line\"">33</span><br><span class="\"line\"">34</span><br><span class="\"line\"">35</span><br><span class="\"line\"">36</span><br><span class="\"line\"">37</span><br><span class="\"line\"">38</span><br><span class="\"line\"">39</span><br><span class="\"line\"">40</span><br><span class="\"line\"">41</span><br><span class="\"line\"">42</span><br><span class="\"line\"">43</span><br><span class="\"line\"">44</span><br><span class="\"line\"">45</span><br><span class="\"line\"">46</span><br><span class="\"line\"">47</span><br><span class="\"line\"">48</span><br><span class="\"line\"">49</span><br><span class="\"line\"">50</span><br><span class="\"line\"">51</span><br><span class="\"line\"">52</span><br><span class="\"line\"">53</span><br><span class="\"line\"">54</span><br><span class="\"line\"">55</span><br><span class="\"line\"">56</span><br><span class="\"line\"">57</span><br><span class="\"line\"">58</span><br><span class="\"line\"">59</span><br><span class="\"line\"">60</span><br><span class="\"line\"">61</span><br><span class="\"line\"">62</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">//åˆ—æ»šåŠ¨äº‹ä»¶</span><br><span class="\"line\"">  bindMultiPickerColumnChange(e) &#123;</span><br><span class="\"line\"">    let selectedIndex = e.detail.value;</span><br><span class="\"line\""></span><br><span class="\"line\"">    let cityArray = this.data.cityArray;</span><br><span class="\"line\"">    let list1 = []; //å­˜æ”¾ç¬¬äºŒåˆ—æ•°æ®ï¼Œå³å¸‚çš„åˆ—</span><br><span class="\"line\"">    let list2 = []; //å­˜æ”¾ç¬¬ä¸‰åˆ—æ•°æ®ï¼Œå³åŒºçš„åˆ—</span><br><span class="\"line\""></span><br><span class="\"line\"">    let citiesIndex = [];</span><br><span class="\"line\""></span><br><span class="\"line\"">    let pcode = &apos;&apos;, scode = &apos;&apos;;</span><br><span class="\"line\""></span><br><span class="\"line\""></span><br><span class="\"line\"">    let provinceIndex = this.data.citiesIndex[0]; //é€‰ä¸­çš„çœç´¢å¼•</span><br><span class="\"line\"">    let cityIndex = this.data.citiesIndex[1]; //é€‰ä¸­çš„å¸‚ç´¢å¼• </span><br><span class="\"line\"">    let areaIndex = this.data.citiesIndex[2]; //é€‰ä¸­çš„åŒºç´¢å¼•</span><br><span class="\"line\""></span><br><span class="\"line\"">    switch (e.detail.column) &#123;</span><br><span class="\"line\"">      case 0: //æ»šåŠ¨ç¬¬ä¸€åˆ—</span><br><span class="\"line\"">        pcode = cityArray[0][selectedIndex].code;</span><br><span class="\"line\"">        for(let x in array[pcode])&#123;</span><br><span class="\"line\"">          list1.push(&#123;</span><br><span class="\"line\"">            name: array[pcode][x],</span><br><span class="\"line\"">            code: x</span><br><span class="\"line\"">          &#125;);</span><br><span class="\"line\"">        &#125;</span><br><span class="\"line\"">        </span><br><span class="\"line\"">        scode = list1[0].code;</span><br><span class="\"line\"">        for(let y in array[scode])&#123;</span><br><span class="\"line\"">          list2.push(&#123;</span><br><span class="\"line\"">            name: array[scode][y],</span><br><span class="\"line\"">            code: y</span><br><span class="\"line\"">          &#125;);</span><br><span class="\"line\"">        &#125;</span><br><span class="\"line\""></span><br><span class="\"line\"">        citiesIndex = [selectedIndex, 0, 0, 0];</span><br><span class="\"line\"">        break;</span><br><span class="\"line\"">      case 1: //æ»šåŠ¨ç¬¬äºŒåˆ—</span><br><span class="\"line\"">        list1 = cityArray[1];</span><br><span class="\"line\""></span><br><span class="\"line\"">        scode = list1[selectedIndex].code;</span><br><span class="\"line\"">        for(let x in array[scode])&#123;</span><br><span class="\"line\"">          list2.push(&#123;</span><br><span class="\"line\"">            name: array[scode][x],</span><br><span class="\"line\"">            code: x</span><br><span class="\"line\"">          &#125;);</span><br><span class="\"line\"">        &#125;</span><br><span class="\"line\""></span><br><span class="\"line\"">        citiesIndex = [provinceIndex, selectedIndex, 0, 0];</span><br><span class="\"line\"">        break;</span><br><span class="\"line\"">      case 2: //æ»šåŠ¨ç¬¬ä¸‰åˆ—</span><br><span class="\"line\"">        list1 = cityArray[1];</span><br><span class="\"line\"">        list2 = cityArray[2];</span><br><span class="\"line\""></span><br><span class="\"line\"">        citiesIndex = [provinceIndex, cityIndex, selectedIndex, 0];</span><br><span class="\"line\"">        break;</span><br><span class="\"line\"">    &#125;</span><br><span class="\"line\"">    this.setData(&#123;</span><br><span class="\"line\"">      [`cityArray[1]`]: list1, //é‡æ–°èµ‹å€¼ç¬¬äºŒåˆ—æ•°ç»„ï¼Œå³è”åŠ¨äº†å¸‚</span><br><span class="\"line\"">      [`cityArray[2]`]: list2, //é‡æ–°èµ‹å€¼ç¬¬ä¸‰åˆ—æ•°ç»„ï¼Œå³è”åŠ¨äº†åŒº</span><br><span class="\"line\"">      citiesIndex: citiesIndex, //æ›´æ–°ç´¢å¼•</span><br><span class="\"line\"">    &#125;);</span><br></pre></td></tr></table></figure>\n<h1 id="\"4é€‰æ‹©å™¨å˜æ›´äº‹ä»¶\""><a class="\"markdownIt-Anchor\"" href="\"#4é€‰æ‹©å™¨å˜æ›´äº‹ä»¶\"">#</a> 4. é€‰æ‹©å™¨å˜æ›´äº‹ä»¶</h1>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br><span class="\"line\"">13</span><br><span class="\"line\"">14</span><br><span class="\"line\"">15</span><br><span class="\"line\"">16</span><br><span class="\"line\"">17</span><br><span class="\"line\"">18</span><br><span class="\"line\"">19</span><br><span class="\"line\"">20</span><br><span class="\"line\"">21</span><br><span class="\"line\"">22</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">//é€‰æ‹©å™¨é€‰æ‹©äº‹ä»¶</span><br><span class="\"line\"">  bindMultiPickerChange(e) &#123;</span><br><span class="\"line\"">    let cityIndex = e.detail.value; </span><br><span class="\"line\"">    let cityArray = this.data.cityArray;</span><br><span class="\"line\""></span><br><span class="\"line\"">    let province = cityArray[0][cityIndex[0]].name;</span><br><span class="\"line\"">    let city = cityArray[1][cityIndex[1]].name;</span><br><span class="\"line\"">    let district = cityArray[2][cityIndex[2]].name;</span><br><span class="\"line\"">    //é€‰æ‹©çš„åœ°å€ç¼–ç </span><br><span class="\"line\"">    let areaCode = cityArray[2][cityIndex[2]].code;</span><br><span class="\"line\"">    //é€‰æ‹©çš„åœ°å€æ–‡æœ¬</span><br><span class="\"line\"">    let selectedAddress = &quot;&quot;;</span><br><span class="\"line\"">   </span><br><span class="\"line\"">    selectedAddress = province + city + district;</span><br><span class="\"line\""></span><br><span class="\"line\"">    this.setData(&#123;</span><br><span class="\"line\"">      region: selectedAddress,</span><br><span class="\"line\"">      areaCode: areaCode,</span><br><span class="\"line\"">      provinceCode: cityArray[0][cityIndex[0]].code,</span><br><span class="\"line\"">      cityCode: cityArray[1][cityIndex[1]].code</span><br><span class="\"line\"">    &#125;);</span><br><span class="\"line\"">  &#125;,</span><br></pre></td></tr></table></figure>\n<h1 id="\"5æ ¹æ®ä¼ è¿‡æ¥çš„å€¼æ˜¾ç¤ºçœå¸‚åŒº\""><a class="\"markdownIt-Anchor\"" href="\"#5æ ¹æ®ä¼ è¿‡æ¥çš„å€¼æ˜¾ç¤ºçœå¸‚åŒº\"">#</a> 5. æ ¹æ®ä¼ è¿‡æ¥çš„å€¼æ˜¾ç¤ºçœå¸‚åŒº</h1>\n<p>ä¿®æ”¹åˆå§‹åŒ–é€‰æ‹©å™¨æ–¹æ³•ï¼Œåˆ¤æ–­å½“ä¿®æ”¹åœ°å€æ—¶è¯»å–æ˜¾ç¤ºå·²é€‰æ‹©çš„çœå¸‚åŒºã€‚</p>\n<figure class="\"highlight" plain\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br><span class="\"line\"">13</span><br><span class="\"line\"">14</span><br><span class="\"line\"">15</span><br><span class="\"line\"">16</span><br><span class="\"line\"">17</span><br><span class="\"line\"">18</span><br><span class="\"line\"">19</span><br><span class="\"line\"">20</span><br><span class="\"line\"">21</span><br><span class="\"line\"">22</span><br><span class="\"line\"">23</span><br><span class="\"line\"">24</span><br><span class="\"line\"">25</span><br><span class="\"line\"">26</span><br><span class="\"line\"">27</span><br><span class="\"line\"">28</span><br><span class="\"line\"">29</span><br><span class="\"line\"">30</span><br><span class="\"line\"">31</span><br><span class="\"line\"">32</span><br><span class="\"line\"">33</span><br><span class="\"line\"">34</span><br><span class="\"line\"">35</span><br><span class="\"line\"">36</span><br><span class="\"line\"">37</span><br><span class="\"line\"">38</span><br><span class="\"line\"">39</span><br><span class="\"line\"">40</span><br></pre></td><td class="\"code\""><pre><span class="\"line\"">for (let x in array[&quot;86&quot;]) &#123; //å­˜å…¥çœ</span><br><span class="\"line\"">    cityArray[0].push(&#123;</span><br><span class="\"line\"">    name: array[&quot;86&quot;][x],</span><br><span class="\"line\"">    code: x</span><br><span class="\"line\"">    &#125;);</span><br><span class="\"line\"">&#125;</span><br><span class="\"line\""></span><br><span class="\"line\"">if(this.data.address_id != &quot;&quot;)&#123; //ç¼–è¾‘åœ°å€ï¼Œæ ¹æ®ä¼ è¿‡æ¥çš„åœ°å€æ–‡æœ¬å’Œç¼–ç è°ƒæ•´é€‰æ‹©å™¨</span><br><span class="\"line\"">    for (let y in array[provinceCode]) &#123;</span><br><span class="\"line\"">        cityArray[1].push(&#123;</span><br><span class="\"line\"">            name: array[provinceCode][y],</span><br><span class="\"line\"">            code: y</span><br><span class="\"line\"">        &#125;);</span><br><span class="\"line\"">    &#125;</span><br><span class="\"line\""></span><br><span class="\"line\"">    for (let z in array[cityCode]) &#123;</span><br><span class="\"line\"">        cityArray[2].push(&#123;</span><br><span class="\"line\"">            name: array[cityCode][z],</span><br><span class="\"line\"">            code: z</span><br><span class="\"line\"">        &#125;);</span><br><span class="\"line\"">    &#125;</span><br><span class="\"line\""></span><br><span class="\"line\"">    for(let i = 0,len = cityArray[0].length;i&lt;len;i++)&#123;</span><br><span class="\"line\"">        if (cityArray[0][i].code == provinceCode) &#123;</span><br><span class="\"line\"">            provinceIndex = i;</span><br><span class="\"line\"">        &#125;</span><br><span class="\"line\"">    &#125;</span><br><span class="\"line\"">    for (let j = 0, len = cityArray[1].length; j &lt; len; j++) &#123;</span><br><span class="\"line\"">        if (cityArray[1][j].code == cityCode) &#123;</span><br><span class="\"line\"">            cityIndex = j;</span><br><span class="\"line\"">        &#125;</span><br><span class="\"line\"">    &#125;</span><br><span class="\"line\"">    for (let k = 0, len = cityArray[2].length; k &lt; len; k++) &#123;</span><br><span class="\"line\"">        if (cityArray[2][k].code == areaCode) &#123;</span><br><span class="\"line\"">            districtIndex = k;</span><br><span class="\"line\"">        &#125;</span><br><span class="\"line\"">    &#125;</span><br><span class="\"line\""></span><br><span class="\"line\""></span><br><span class="\"line\"">&#125; else &#123; //æ·»åŠ åœ°å€</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id="\"æ•ˆæœ\""><a class="\"markdownIt-Anchor\"" href="\"#æ•ˆæœ\"">#</a> æ•ˆæœï¼š</h2>\n<p><img data-src="\"https://hexo-ocean.oss-cn-shanghai.aliyuncs.com/post/1558583329%281%29.png\"" alt="\"image.png\""></p>\n",
            "tags": [
                "å¾®ä¿¡å°ç¨‹åº"
            ]
        },
        {
            "id": "https://flttx.github.io/2019/05/28/å¾®ä¿¡å°ç¨‹åºé•¿æŒ‰æ•°é‡è‡ªåŠ¨åŠ å‡/",
            "url": "https://flttx.github.io/2019/05/28/å¾®ä¿¡å°ç¨‹åºé•¿æŒ‰æ•°é‡è‡ªåŠ¨åŠ å‡/",
            "title": "å¾®ä¿¡å°ç¨‹åºé•¿æŒ‰æ•°é‡è‡ªåŠ¨åŠ å‡",
            "date_published": "2019-05-28T08:18:29.000Z",
            "content_html": "<p>å¼€å‘ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºï¼Œæœ‰è´­ç‰©è½¦çš„åŠŸèƒ½ï¼Œåœ¨æµ‹è¯•åŠ å‡è´­ç‰©è½¦ä¸­å•†å“æ•°é‡æ—¶ï¼Œå‘ç°ç‚¹ä¸€ä¸‹åŠ ä¸€æˆ–å‡ä¸€å¤ªçƒ¦ï¼Œäºæ˜¯æ·»åŠ äº†é•¿æŒ‰è‡ªåŠ¨åŠ å‡çš„åŠŸèƒ½ã€‚</p>\n<p>é¡µé¢ç»„ä»¶</p>\n<figure class="\"highlight" html\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br></pre></td><td class="\"code\""><pre><span class="\"line\""><span class="\"tag\"">&lt;<span class="\"name\"">text</span> <span class="\"attr\"">class</span>=<span class="\"string\"">\"minus\"</span> <span class="\"attr\"">catchtouchstart</span>=<span class="\"string\"">'startMinus'</span> <span class="\"attr\"">catchtouchend</span>=<span class="\"string\"">'endMinus'</span> <span class="\"attr\"">data-index</span>=<span class="\"string\"">\"&#123;&#123;index&#125;&#125;\"</span> <span class="\"attr\"">data-goodIndex</span>=<span class="\"string\"">\"&#123;&#123;goodIndex&#125;&#125;\"</span>&gt;</span>-<span class="\"tag\"">&lt;/<span class="\"name\"">text</span>&gt;</span> </span><br><span class="\"line\"">&#123;&#123;good.num&#125;&#125;     <span class="\"comment\"">&lt;!-- å•†å“æ•°é‡ --&gt;</span></span><br><span class="\"line\""><span class="\"tag\"">&lt;<span class="\"name\"">text</span> <span class="\"attr\"">class</span>=<span class="\"string\"">\"add\"</span> <span class="\"attr\"">catchtouchstart</span>=<span class="\"string\"">'startAdd'</span> <span class="\"attr\"">catchtouchend</span>=<span class="\"string\"">'endAdd'</span> <span class="\"attr\"">data-index</span>=<span class="\"string\"">\"&#123;&#123;index&#125;&#125;\"</span> <span class="\"attr\"">data-goodIndex</span>=<span class="\"string\"">\"&#123;&#123;goodIndex&#125;&#125;\"</span>&gt;</span>+<span class="\"tag\"">&lt;/<span class="\"name\"">text</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id="\"1ç›‘å¬è§¦æ‘¸å¼€å§‹äº‹ä»¶\""><a class="\"markdownIt-Anchor\"" href="\"#1ç›‘å¬è§¦æ‘¸å¼€å§‹äº‹ä»¶\"">#</a> 1. ç›‘å¬è§¦æ‘¸å¼€å§‹äº‹ä»¶</h3>\n<p>é¦–å…ˆç›‘å¬è§¦æ‘¸å¼€å§‹äº‹ä»¶ touchstartï¼Œè®°å½•è§¦æ‘¸å¼€å§‹æ—¶é—´ï¼Œæ—¶é—´åé¢æœ‰ç”¨ã€‚éœ€è¦ç”¨åˆ°å®šæ—¶å™¨ï¼Œtimer ç”¨çš„æ˜¯é¡µé¢å…¨å±€å˜é‡ã€‚</p>\n<figure class="\"highlight" javascript\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br><span class="\"line\"">13</span><br><span class="\"line\"">14</span><br><span class="\"line\"">15</span><br><span class="\"line\"">16</span><br><span class="\"line\"">17</span><br><span class="\"line\"">18</span><br><span class="\"line\"">19</span><br><span class="\"line\"">20</span><br><span class="\"line\"">21</span><br><span class="\"line\"">22</span><br><span class="\"line\"">23</span><br><span class="\"line\"">24</span><br></pre></td><td class="\"code\""><pre><span class="\"line\""><span class="\"comment\"">//æŒ‰ä½åŠ å·ä¸åœåœ°åŠ </span></span><br><span class="\"line\"">startAdd(e)&#123;</span><br><span class="\"line\"">    startTime = <span class="\"keyword\"">new</span> <span class="\"built_in\"">Date</span>().getTime();  <span class="\"comment\"">//è®°å½•è§¦æ‘¸å¼€å§‹æ—¶é—´</span></span><br><span class="\"line\"">    <span class="\"keyword\"">let</span> index = e.currentTarget.dataset.index;</span><br><span class="\"line\"">    <span class="\"keyword\"">let</span> goodIndex = e.currentTarget.dataset.goodindex;</span><br><span class="\"line\"">    timer = setInterval(<span class="\"function\""><span class="\"params\"">()</span>=&gt;</span>&#123;  <span class="\"comment\"">//å®šä¹‰å®šæ—¶å™¨</span></span><br><span class="\"line\"">        <span class="\"keyword\"">this</span>.data.cartList[index].goodList[goodIndex].num++;</span><br><span class="\"line\"">        <span class="\"keyword\"">let</span> sumPrice = <span class="\"number\"">0</span>;</span><br><span class="\"line\"">        <span class="\"keyword\"">let</span> count = <span class="\"number\"">0</span>;</span><br><span class="\"line\"">        <span class="\"keyword\"">this</span>.data.cartList.map(<span class="\"function\"">(<span class="\"params\"">type, index</span>) =&gt;</span> &#123;</span><br><span class="\"line\"">        type.goodList.map(<span class="\"function\"">(<span class="\"params\"">good, index</span>) =&gt;</span> &#123;</span><br><span class="\"line\"">            count += good.num;  <span class="\"comment\"">//è®¡ç®—å•†å“æ•°é‡</span></span><br><span class="\"line\"">            <span class="\"keyword\"">if</span> (good.selected) &#123;  <span class="\"comment\"">//è®¡ç®—é€‰ä¸­å•†å“ä»·æ ¼</span></span><br><span class="\"line\"">            sumPrice += good.price * good.num;</span><br><span class="\"line\"">            &#125;</span><br><span class="\"line\"">        &#125;);</span><br><span class="\"line\"">        &#125;);</span><br><span class="\"line\"">        <span class="\"keyword\"">this</span>.setData(&#123;</span><br><span class="\"line\"">            [<span class="\"string\"">`cartList[<span class="\"subst\"">$&#123;index&#125;</span>].goodList[<span class="\"subst\"">$&#123;goodIndex&#125;</span>]`</span>]: <span class="\"keyword\"">this</span>.data.cartList[index].goodList[goodIndex],  <span class="\"comment\"">//è´­ç‰©è½¦åˆ—è¡¨å†…å®¹å±€éƒ¨åˆ·æ–°</span></span><br><span class="\"line\"">            goodSumPrice: sumPrice,</span><br><span class="\"line\"">            cartNum: count &gt; <span class="\"number\"">99</span> ? <span class="\"string\"">'99+'</span> : count</span><br><span class="\"line\"">        &#125;);</span><br><span class="\"line\"">    &#125;, <span class="\"number\"">100</span>);</span><br><span class="\"line\"">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id="\"2ç›‘å¬è§¦æ‘¸ç»“æŸäº‹ä»¶\""><a class="\"markdownIt-Anchor\"" href="\"#2ç›‘å¬è§¦æ‘¸ç»“æŸäº‹ä»¶\"">#</a> 2. ç›‘å¬è§¦æ‘¸ç»“æŸäº‹ä»¶</h3>\n<p>è§¦æ‘¸ç»“æŸï¼Œåˆ™ç»“æŸæ•°é‡åŠ å‡ï¼Œæ¸…é™¤å®šæ—¶å™¨ã€‚è®°å½•ç»“æŸæ—¶é—´ï¼Œå’Œå¼€å§‹æ—¶é—´æ¯”è¾ƒï¼Œæ ¹æ®å¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£å®šä¹‰ï¼šæ‰‹æŒ‡è§¦æ‘¸åï¼Œè¶…è¿‡ 350ms å†ç¦»å¼€ä¸ºé•¿æŒ‰ã€‚åä¹‹åˆ™è®¤ä¸ºæ˜¯ç‚¹å‡»ï¼Œæ‰§è¡Œç‚¹å‡»çš„é€»è¾‘ï¼Œå³æ•°é‡åŠ ä¸€ã€‚</p>\n<figure class="\"highlight" javascript\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br></pre></td><td class="\"code\""><pre><span class="\"line\""><span class="\"comment\"">//ç»“æŸåŠ </span></span><br><span class="\"line\"">endAdd(e)&#123;</span><br><span class="\"line\"">    endTime = <span class="\"keyword\"">new</span> <span class="\"built_in\"">Date</span>().getTime(); <span class="\"comment\"">//è®°å½•ç»“æŸæ—¶é—´</span></span><br><span class="\"line\"">    <span class="\"keyword\"">if</span>((endTime - startTime) &lt; <span class="\"number\"">350000</span>)&#123;</span><br><span class="\"line\"">        <span class="\"keyword\"">this</span>.clickAdd(e);</span><br><span class="\"line\"">    &#125; </span><br><span class="\"line\"">    clearInterval(timer);</span><br><span class="\"line\"">&#125;</span><br></pre></td></tr></table></figure>\n<p>ç‚¹å‡»äº‹ä»¶é€»è¾‘ï¼š</p>\n<figure class="\"highlight" javascript\"><table><tr><td class="\"gutter\""><pre><span class="\"line\"">1</span><br><span class="\"line\"">2</span><br><span class="\"line\"">3</span><br><span class="\"line\"">4</span><br><span class="\"line\"">5</span><br><span class="\"line\"">6</span><br><span class="\"line\"">7</span><br><span class="\"line\"">8</span><br><span class="\"line\"">9</span><br><span class="\"line\"">10</span><br><span class="\"line\"">11</span><br><span class="\"line\"">12</span><br><span class="\"line\"">13</span><br><span class="\"line\"">14</span><br><span class="\"line\"">15</span><br><span class="\"line\"">16</span><br><span class="\"line\"">17</span><br><span class="\"line\"">18</span><br><span class="\"line\"">19</span><br><span class="\"line\"">20</span><br><span class="\"line\"">21</span><br></pre></td><td class="\"code\""><pre><span class="\"line\""><span class="\"comment\"">//ç‚¹å‡»åŠ å·</span></span><br><span class="\"line\"">clickAdd(e)&#123;</span><br><span class="\"line\"">  <span class="\"keyword\"">let</span> index = e.currentTarget.dataset.index;</span><br><span class="\"line\"">  <span class="\"keyword\"">let</span> goodIndex = e.currentTarget.dataset.goodindex;</span><br><span class="\"line\"">  <span class="\"keyword\"">this</span>.data.cartList[index].goodList[goodIndex].num ++;</span><br><span class="\"line\"">  <span class="\"keyword\"">let</span> sumPrice = <span class="\"number\"">0</span>;</span><br><span class="\"line\"">  <span class="\"keyword\"">let</span> count = <span class="\"number\"">0</span>;</span><br><span class="\"line\"">  <span class="\"keyword\"">this</span>.data.cartList.map(<span class="\"function\"">(<span class="\"params\"">type, index</span>) =&gt;</span> &#123;</span><br><span class="\"line\"">    type.goodList.map(<span class="\"function\"">(<span class="\"params\"">good, index</span>) =&gt;</span> &#123;</span><br><span class="\"line\"">      count += good.num;</span><br><span class="\"line\"">      <span class="\"keyword\"">if</span> (good.selected) &#123;</span><br><span class="\"line\"">        sumPrice += good.price * good.num;</span><br><span class="\"line\"">      &#125;</span><br><span class="\"line\"">    &#125;);</span><br><span class="\"line\"">  &#125;);</span><br><span class="\"line\"">  <span class="\"keyword\"">this</span>.setData(&#123;</span><br><span class="\"line\"">      [<span class="\"string\"">`cartList[<span class="\"subst\"">$&#123;index&#125;</span>].goodList[<span class="\"subst\"">$&#123;goodIndex&#125;</span>]`</span>]: <span class="\"keyword\"">this</span>.data.cartList[index].goodList[goodIndex],</span><br><span class="\"line\"">      goodSumPrice: sumPrice,</span><br><span class="\"line\"">      cartNum: count&gt;<span class="\"number\"">99</span>?<span class="\"string\"">'99+'</span>:count</span><br><span class="\"line\"">  &#125;);</span><br><span class="\"line\"">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä¹‹æ‰€ä»¥è¦åˆ¤æ–­æ˜¯é•¿æŒ‰è¿˜æ˜¯ç‚¹å‡»æ˜¯å› ä¸ºåœ¨æ ‡ç­¾å…ƒç´ ä¸Šå®šä¹‰äº†è§¦æ‘¸å¼€å§‹äº‹ä»¶åï¼Œtap äº‹ä»¶å°±ä¸å†è§¦å‘ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨è°ƒç”¨ç‚¹å‡»æ–¹æ³•ã€‚</p>\n<p>å‡å·åŒç†ï¼Œéœ€è¦æ³¨æ„æ•°é‡å‡åˆ° 0 æ—¶çš„æ“ä½œï¼Œæˆ‘çš„é€»è¾‘æ˜¯é•¿æŒ‰æ•°é‡å‡åˆ°ä¸€å°±åœæ­¢ï¼Œå†ç‚¹å‡»å‡å·åˆ™åˆ é™¤è¯¥å•†å“ã€‚</p>\n<h3 id="\"æ•ˆæœå›¾\""><a class="\"markdownIt-Anchor\"" href="\"#æ•ˆæœå›¾\"">#</a> æ•ˆæœå›¾</h3>\n<p><img data-src="\"https://hexo-ocean.oss-cn-shanghai.aliyuncs.com/post/pj1sd-gfr7w.gif\"" alt="\"æ•ˆæœå›¾\""></p>\n",
            "tags": [
                "å¾®ä¿¡å°ç¨‹åº"
            ]
        }
    ]
}